{
  "name": "Caso de estudio",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.2,
      "position": [
        -3328,
        1504
      ],
      "id": "bf843068-c01d-4342-8b3a-c53517cf29b6",
      "name": "Assist time trigger",
      "webhookId": "60ddcada-42f8-4c78-91d7-a05eba309abe",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1657441283,
          "mode": "list",
          "cachedResultName": "USUARIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=1657441283"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3104,
        1504
      ],
      "id": "93894b36-d76e-422d-9b25-5816311e3855",
      "name": "Get row(s) in sheet1",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "4855eaf8-6163-41ec-8063-024cd56f154b",
              "leftValue": "={{ $('Get row(s) in sheet1').item.json.rol }}",
              "rightValue": "Admin",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2384,
        1280
      ],
      "id": "5e638002-59c4-473f-9041-cfb8758bcdab",
      "name": "If"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "aa33e9cd-ad0a-4596-91ed-c5a93b8531ef",
              "leftValue": "={{ !$json.telegram_user || String($json.telegram_user).trim() === '' }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2880,
        1504
      ],
      "id": "23a1d547-84c7-45f5-9a48-d4b1474d5a67",
      "name": "Comprobacion de existencia"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Hola, soy AgendaBot 游녦\n\nEstoy aqu칤 para ayudarte a organizar tus citas, tareas y recordatorios\nde forma sencilla y sin complicaciones.\n\nPuedes escribirme en cualquier momento.\nPara avanzar, solo tienes que escribir el n칰mero de la opci칩n que quieras usar.\n\nMen칰 principal:\n0. Ayuda\n1. Agenda (citas)\n2. Tareas\n3. Recordatorios\n4. H치bitos\n5. Listas\n6. Reportes\n7. Configuraci칩n\n8. Administrador",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -2160,
        1120
      ],
      "id": "a4582440-6af7-4475-bf6e-6d3414caf2b6",
      "name": "Main menu Admin",
      "webhookId": "918dde3f-7823-451a-88b2-9f4f423e208f",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Hola, soy AgendaBot 游녦\n\nEstoy aqu칤 para ayudarte a organizar tus citas, tareas y recordatorios\nde forma sencilla y sin complicaciones.\n\nPuedes escribirme en cualquier momento.\nPara avanzar, solo tienes que escribir el n칰mero de la opci칩n que quieras usar.\n\nMen칰 principal:\n0. Ayuda\n1. Agenda (citas)\n2. Tareas\n3. Recordatorios\n4. H치bitos\n5. Listas\n6. Reportes\n7. Configuraci칩n",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -2160,
        1344
      ],
      "id": "23baa3fd-94ec-4d54-bf71-30de1bc678e9",
      "name": "Main menu",
      "webhookId": "918dde3f-7823-451a-88b2-9f4f423e208f",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "Menu Principal",
            "paso_actual": "menu_principal",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1952,
        1232
      ],
      "id": "d4cdb7df-1e71-4105-8963-290889e10372",
      "name": "Append or update row in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2672,
        1600
      ],
      "id": "b7a155ba-9a00-4040-aa05-0f77725f1e32",
      "name": "Ubicacion de pasos",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c9e851c5-277e-475e-a553-13cc248200b0",
              "name": "Respuesta",
              "value": "={{ $('Assist time trigger').item.json.message.text }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -2480,
        1664
      ],
      "id": "8d7d649c-5a1d-4075-b7ea-38f66bfe37f8",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual || $json.menu_principal }}",
                    "rightValue": "menu_principal",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "f32ce05c-ff63-401f-b30d-1b75a14ae3df"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "b2fdb5ab-3568-4ba8-b3e6-65e243d8f194",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "helpers",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "49f29b29-dbc3-41dc-8785-10023269b612",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "menu cita"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "9aa597ed-8008-45dc-b992-0eac0f745dee",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "agendando_cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "4aeef542-3e3b-4b15-82e4-909567c21a19",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "editando_agenda",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "2a28f5d3-67f8-4763-bd2a-ae580fdd7c82",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "reagendando_cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "8a878e7f-896e-4a4a-9667-b67246583033",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "rehorificando_cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "2a4eba97-750a-4e09-96c7-add5a11ca18a",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "eliminar_cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "47b59f2f-4fb7-4ca8-8e7a-db5767298b14",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "completar_cita",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "8bf196ba-e008-496e-9b30-73a54edfb2ee",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "tareas",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "061797f5-a12d-4140-be83-2ed65ef30639",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.pantalla_actual }}",
                    "rightValue": "crear_habito",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "16478cdc-c631-4c7a-9606-42db9742e743",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "habitos",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "e362b1cc-3194-4cb2-918c-277852140080",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "listas",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "3b22d4ef-878d-4f80-99b7-de6a28a90d41",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "reportes",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "f29b5f33-bf59-4272-a997-c4367017eb6c",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "configuracion",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "a0cd8b3d-8960-44f0-aa28-6e673d776abb",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.paso_actual }}",
                    "rightValue": "admin",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "8b9e0cbc-c0b8-441e-a986-d859914dfc0e",
                    "leftValue": "",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "2d37bd41-97c8-4a5d-8221-c0ed4f636097",
                    "leftValue": "",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "08dc3bd2-1548-4c02-a78e-a9023a0e6f29",
                    "leftValue": "",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "ace1279a-e9bd-4581-bc7a-575acc901c1f",
                    "leftValue": "",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -2624,
        2032
      ],
      "id": "c987923b-8959-4817-8786-152c6b6aa37d",
      "name": "Identificador de pasos"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "Cita",
            "paso_actual": "agendando_cita",
            "datos_parciales": "agendando_cita_paso2",
            "timestamp_ultima_interaccion": "{{ $now }}",
            "id_temporal": "={{ $('Get row(s) in sheet2').item.json.id_cita }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1408,
        2304
      ],
      "id": "89ec804b-5071-4a99-98c6-fde2c300f153",
      "name": "Append or update row in sheet3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "0",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "f32ce05c-ff63-401f-b30d-1b75a14ae3df"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "22468d3e-6316-4eef-984a-209c0fe7adda",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "f66e587b-5e40-4a7e-80d5-5510f5403c84",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "ac035221-99cc-4ad7-a16a-c438d7c497d5",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "c40a0bac-8675-4261-bd8c-7e553082328f",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "9da4957a-3985-43dc-a53b-483ef6e6f133",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "5",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "cea9bc8c-1963-455d-b29b-c4cb240e420b",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "6",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "b69a84b8-0307-4c53-b0e8-6d96740c4eb9",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "7",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "dc55ce27-e3c2-440e-99fc-5423903702be",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "8",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "2162c323-6129-4753-9d50-8297799b3f4d",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "a8d9c5ca-ed46-4449-af21-8e352b09d389",
                    "leftValue": "={{ ['0', '1', '3', '4', '5', '6', '7', '8', '9'].includes(String($json.Respuesta).trim()) === true }}",
                    "rightValue": "",
                    "operator": {
                      "type": "boolean",
                      "operation": "false",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -1120,
        -1008
      ],
      "id": "93206d3c-3a14-499d-bf85-1d7be995edc0",
      "name": "Opciones Menu Principal"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1657441283,
          "mode": "list",
          "cachedResultName": "USUARIOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=1657441283"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "nombre": "={{ $('Assist time trigger').item.json.message.chat.first_name }}{{ $('Assist time trigger').item.json.message.chat.last_name }}",
            "rol": "User",
            "permitido": "Activo"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "rol",
              "displayName": "rol",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "permitido",
              "displayName": "permitido",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2656,
        1408
      ],
      "id": "e9858f8c-5884-42cc-933c-b3100f6f9c1c",
      "name": "Creacion de usuario",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "5215aac9-f47e-4645-b0cc-5662f0e6c02a",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agendando_cita_paso1",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "78aa4032-376d-4426-ad97-b754edff5cde",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agendando_cita_paso2",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "7f9e2f48-0800-4429-a9a2-5c69ed5a026f",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agendando_cita_paso3",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "f34d6269-511f-4115-bdf6-8acb0787d86a",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agendando_cita_paso4",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "cd818330-64ce-4acc-a138-d994178c19f6",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agendando_cita_paso5",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "61c2c7be-7d68-4ef1-bc70-414bb04b6710",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agendando_cita_paso6",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "05544fe4-b10f-4d29-97d8-eef3afdd900e",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agendando_cita_paso7",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -48,
        2448
      ],
      "id": "4297a15b-85ac-4f98-8f51-0db68f96a98b",
      "name": "Switch"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Excelente cita asignada",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        960,
        2560
      ],
      "id": "32309341-6182-4cf7-b9db-141ed0c0cea7",
      "name": "Send a text message",
      "webhookId": "b921b4ce-8c73-4ebe-9076-026f4babb940",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_cita": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "cita_fecha_tmp": "={{ $('Assist time trigger').item.json.message.text }}",
            "timestamp_creacion": "={{ $now }}"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "cita_fecha_tmp",
              "displayName": "cita_fecha_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "hora_tmp",
              "displayName": "hora_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1152,
        2560
      ],
      "id": "4222bd0e-788a-473b-b5ff-f6a434ec8a96",
      "name": "Append or update row in sheet4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Paso 2 de 6\n쮸 qu칠 hora ser치 la cita?\n\nFormato 24 horas (HH:MM)\nEjemplo: 14:30\n\n9. Cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1376,
        2560
      ],
      "id": "767e1bcc-4d48-40f9-b45b-647c7c702848",
      "name": "Send a text message5",
      "webhookId": "e00d157a-ce29-4a37-8822-00f6f883a300",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "datos_parciales": "agendando_cita_paso3",
            "paso_actual": "agendando_cita",
            "pantalla_actual": "agendando_cita",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1568,
        2560
      ],
      "id": "0769e52a-07c1-4e33-b298-6baef95555d3",
      "name": "Append or update row in sheet5",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "hora correcta",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        832,
        2992
      ],
      "id": "c6b9beb9-411a-43df-9ffe-cd3376be2f58",
      "name": "Send a text message6",
      "webhookId": "91b417d1-30cb-4cd3-a44b-5c8a6deb2331",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_cita": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "hora_tmp": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "cita_fecha_tmp",
              "displayName": "cita_fecha_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "hora_tmp",
              "displayName": "hora_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1024,
        3024
      ],
      "id": "e69a11b7-304d-4e2b-ae44-f4e2aec6a83c",
      "name": "Append or update row in sheet6",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Paso 3 de 6\n쮸 nombre de qui칠n es la cita?\n\nEscribe el nombre completo.\n\n9. Cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1200,
        3024
      ],
      "id": "9e388a71-e992-45bb-956b-ecf898afb08d",
      "name": "Send a text message7",
      "webhookId": "e00d157a-ce29-4a37-8822-00f6f883a300",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "agendando_cita",
            "paso_actual": "agendando_cita",
            "datos_parciales": "agendando_cita_paso4",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1408,
        3024
      ],
      "id": "3db40d86-fb3d-4e6d-b97c-85e07d3993bf",
      "name": "Append or update row in sheet7",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Nombre guardado",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        672,
        3264
      ],
      "id": "b5d095f8-0076-4478-9624-8085d6ffe19c",
      "name": "Send a text message8",
      "webhookId": "91b417d1-30cb-4cd3-a44b-5c8a6deb2331",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Paso 4 de 6\nCu칠ntame brevemente el motivo de la cita.\n\nEjemplo: Asesor칤a t칠cnica\n\n9. Cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1024,
        3280
      ],
      "id": "3ae43e5f-7305-4aef-aa07-b128ba4f1af1",
      "name": "Send a text message9",
      "webhookId": "e00d157a-ce29-4a37-8822-00f6f883a300",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "agendando_cita",
            "paso_actual": "agendando_cita",
            "datos_parciales": "agendando_cita_paso5",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1232,
        3264
      ],
      "id": "622a5375-0cfd-4158-a8c0-7f93746ddefc",
      "name": "Append or update row in sheet9",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Detalle guardado",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        624,
        3440
      ],
      "id": "9862e3c6-2986-41c7-9d59-68e250cbd458",
      "name": "Send a text message10",
      "webhookId": "91b417d1-30cb-4cd3-a44b-5c8a6deb2331",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_cita": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "motivo": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "cita_fecha_tmp",
              "displayName": "cita_fecha_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "hora_tmp",
              "displayName": "hora_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        848,
        3472
      ],
      "id": "68a8c54a-a254-45c2-bde6-6598177946ea",
      "name": "Append or update row in sheet10",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Paso 5 de 6\n쮺칩mo ser치 la atenci칩n?\n\n1. Presencial\n2. Virtual\n3. Llamada\n9. Cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1024,
        3456
      ],
      "id": "74572448-21cf-4263-b575-2f0ae2ddc3dd",
      "name": "Send a text message11",
      "webhookId": "e00d157a-ce29-4a37-8822-00f6f883a300",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "timestamp_ultima_interaccion": "={{ $now }}",
            "datos_parciales": "agendando_cita_paso6",
            "paso_actual": "agendando_cita",
            "pantalla_actual": "agendando_cita",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1264,
        3440
      ],
      "id": "9012021d-4bc7-4ad8-9bf0-5a1eca495767",
      "name": "Append or update row in sheet11",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "atencion guardada",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1152,
        3616
      ],
      "id": "2c871ba1-f78f-4494-aa78-dfe0e220eb52",
      "name": "Send a text message12",
      "webhookId": "91b417d1-30cb-4cd3-a44b-5c8a6deb2331",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_cita": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "canal": "={{ $('Edit Fields1').item.json.atencion }}"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "cita_fecha_tmp",
              "displayName": "cita_fecha_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "hora_tmp",
              "displayName": "hora_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1392,
        3616
      ],
      "id": "bfa0ddcd-b5e8-45b9-8e12-456b168616e9",
      "name": "Append or update row in sheet12",
      "alwaysOutputData": false,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Revisa la informaci칩n de tu cita:\n\nFecha: {{ $json.cita_fecha_tmp }}\nHora: {{ $json.hora_tmp }}\nCliente: {{ $json.nombre }}\nMotivo: {{ $json.motivo }}\nCanal: {{ $json.canal }}\n\n쯈u칠 deseas hacer?\n1. Confirmar y guardar\n2. Editar informaci칩n\n3. Cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1952,
        3776
      ],
      "id": "8ce7a2ca-592b-469a-86ad-7656926c5eaf",
      "name": "Send a text message13",
      "webhookId": "e00d157a-ce29-4a37-8822-00f6f883a300",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "pantalla_actual": "agendando_cita",
            "paso_actual": "agendando_cita",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "datos_parciales": "agendando_cita_paso7",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_temporal": "={{ $('Ubicacion de pasos').item.json.id_temporal }}"
          },
          "matchingColumns": [
            "id_temporal"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2192,
        3792
      ],
      "id": "ad98ec14-ad45-4523-a27d-a79efac7c9ed",
      "name": "Append or update row in sheet13",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Identificador de pasos').item.json.Respuesta }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "06da3f13-b82f-4cf1-8432-13d990f5aedd"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "78613de1-d844-4c42-9bd3-3bff34574a08",
                    "leftValue": "={{ $('Identificador de pasos').item.json.Respuesta }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "9af4968e-1694-4f7c-822d-b8efef556a47",
                    "leftValue": "={{ $('Identificador de pasos').item.json.Respuesta }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        608,
        3664
      ],
      "id": "00706338-cbcb-40a8-b457-baebafbf3610",
      "name": "Switch1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "f270b367-5f7d-438e-ba94-a085c9414266",
              "name": "atencion",
              "value": "Presencial",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        912,
        3632
      ],
      "id": "aa682f79-4367-403f-8f96-36e123f60b49",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "e83763e9-4350-4092-9a70-7b2471767ddf",
              "name": "atencion",
              "value": "Llamada",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        912,
        3936
      ],
      "id": "9f9c19f5-2e87-4524-a2fa-d610f48d2b19",
      "name": "Edit Fields2"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "811472ee-11d8-46c2-b8d3-28f37b3410d9",
              "name": "atencion",
              "value": "Virtual",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        912,
        3776
      ],
      "id": "076c424f-3d2d-4e69-b894-4d842d0fbb1d",
      "name": "Edit Fields4"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "atencion guardada",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1168,
        3792
      ],
      "id": "0e5a7dbd-87bf-4b3f-9b48-6e30272e2287",
      "name": "Send a text message14",
      "webhookId": "91b417d1-30cb-4cd3-a44b-5c8a6deb2331",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_cita": "={{ $now.toFormat('yyyyMMddHHmmss') }}",
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "canal": "={{ $('Assist time trigger').item.json.message.text }}",
            "creado_por": "={{ $('Assist time trigger').item.json.message.from.first_name }}"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "cita_fecha_tmp",
              "displayName": "cita_fecha_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "hora_tmp",
              "displayName": "hora_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1376,
        3792
      ],
      "id": "af368daa-970b-4100-853b-533274d94d6a",
      "name": "Append or update row in sheet14",
      "alwaysOutputData": false,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "atencion guardada",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1168,
        3936
      ],
      "id": "25fa0800-128c-4baa-9564-c6f131b23a8f",
      "name": "Send a text message15",
      "webhookId": "91b417d1-30cb-4cd3-a44b-5c8a6deb2331",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_cita": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "canal": "={{ $('Edit Fields2').item.json.atencion }}"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "cita_fecha_tmp",
              "displayName": "cita_fecha_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "hora_tmp",
              "displayName": "hora_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1376,
        3936
      ],
      "id": "c1820cbf-c2a9-4f10-bd64-831bc2f0a5c7",
      "name": "Append or update row in sheet15",
      "alwaysOutputData": false,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_cita",
              "lookupValue": "={{ $('Ubicacion de pasos').item.json.id_temporal }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1760,
        3776
      ],
      "id": "be0e5a28-c986-423c-b8bf-2d176ecb18db",
      "name": "Get row(s) in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Compre un perro",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -992,
        -1696
      ],
      "id": "6190cd14-f3e2-4ac8-862e-416cbddc3ffe",
      "name": "Opcion 0:Ayuda",
      "webhookId": "2ff20202-f3f2-44e1-92ac-ebf8a8d18a37",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=No entendi el mensaje\nPodrias enviar una de las opciones?",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -736,
        16
      ],
      "id": "a205d5c5-a4b9-4186-a2e3-008f3ead5665",
      "name": "Respuesta incorrecta",
      "webhookId": "53b6db0d-1e2f-407b-84b0-211fc209524f",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Perfecto, vamos con tu agenda.\n\n쯈u칠 deseas hacer?\n\n1. Agendar una nueva cita\n2. Consultar tu agenda\n3. Reprogramar una cita\n4. Cancelar una cita\n5. Marcar una cita como completada\n9. Volver al men칰 principal",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -752,
        -1520
      ],
      "id": "93de5961-ba10-4b7e-9993-0796e88594fe",
      "name": "Opcion 1: Menu Agendamiento de cita",
      "webhookId": "945bbdb8-8eea-4dfd-966e-c6db770a725a",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -768,
        -1728
      ],
      "id": "68365a17-8ada-4995-93ed-7401043e6738",
      "name": "Cambio de paso a helpper",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "cita",
            "paso_actual": "cita",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -544,
        -1520
      ],
      "id": "34dddad7-c4b1-483f-86f8-30b11111adfa",
      "name": "Cambio de paso a agendar_cita",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "helpper",
            "paso_actual": "helpper",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -544,
        -672
      ],
      "id": "6c90edf4-0c6c-40a3-985e-68d598ea4dec",
      "name": "Cambio de paso a helpper3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "agendar_cita",
            "paso_actual": "agendar_cita",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -544,
        -512
      ],
      "id": "aa3ad7cb-60fa-442b-b168-c2f3c1bca8b8",
      "name": "Cambio de paso a agendar_cita3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "helpper",
            "paso_actual": "helpper",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -528,
        -320
      ],
      "id": "824c54ca-b220-458f-b08a-667ab52e767d",
      "name": "Cambio de paso a helpper4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "agendar_cita",
            "paso_actual": "agendar_cita",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -528,
        -160
      ],
      "id": "4eaf32bd-689a-4e42-bba4-7121776f7847",
      "name": "Cambio de paso a agendar_cita4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Perfecto, vamos con tus tareas\n\n쯈u칠 deseas hacer?\n\n0. Crear una nueva tarea \n1. Ver mis tareas \n2. Cambiar estado de una tarea \n3. Eliminar una tarea \n9. Volver al men칰 principal  \nSugerencia: Si es tu primera vez, te recomiendo la opci칩n 1 (Crear tarea)",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -752,
        -1360
      ],
      "id": "88e3ee61-098a-4765-bf69-2b7cbc8d2048",
      "name": "Opcion 2: Menu de Tareas",
      "webhookId": "2ff20202-f3f2-44e1-92ac-ebf8a8d18a37",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=쯈u칠 deseas hacer en Recordatorios?\n\n0. Crear recordatorio\n\n1. Ver mis recordatorios\n\n2. Cancelar recordatorio\n\n3. Volver al men칰 principal",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -752,
        -1168
      ],
      "id": "4851227c-7c71-42e5-a45c-2bd5fcf8f14a",
      "name": "Opcion 3: Menu de Recordatorios",
      "webhookId": "945bbdb8-8eea-4dfd-966e-c6db770a725a",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Compre un perro",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -752,
        -1008
      ],
      "id": "72ca6fd7-67fa-4ee3-9e10-0cf084fb1451",
      "name": "Opcion 4: Menu de Habitos",
      "webhookId": "2ff20202-f3f2-44e1-92ac-ebf8a8d18a37",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Perfecto, vamos con tu agenda.\n\n쯈u칠 deseas hacer?\n\n1. Agendar una nueva cita\n2. Consultar tu agenda\n3. Reprogramar una cita\n4. Cancelar una cita\n5. Marcar una cita como completada\n9. Volver al men칰 principal",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -752,
        -848
      ],
      "id": "1a0330e7-17cf-4eb9-a55e-947a29ef5ac3",
      "name": "Opcion 5: Menu de Listas",
      "webhookId": "945bbdb8-8eea-4dfd-966e-c6db770a725a",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Compre un perro",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -752,
        -672
      ],
      "id": "5188c2d0-d056-4981-849c-ceae073d2cde",
      "name": "Opcion 6: Menu de reportes",
      "webhookId": "2ff20202-f3f2-44e1-92ac-ebf8a8d18a37",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Compre un perro",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -736,
        -320
      ],
      "id": "f9e5ed03-cd6f-4035-a1a6-39f270d70abe",
      "name": "Menu de configuracion",
      "webhookId": "2ff20202-f3f2-44e1-92ac-ebf8a8d18a37",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Perfecto, vamos con tu agenda.\n\n쯈u칠 deseas hacer?\n\n1. Agendar una nueva cita\n2. Consultar tu agenda\n3. Reprogramar una cita\n4. Cancelar una cita\n5. Marcar una cita como completada\n9. Volver al men칰 principal",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -752,
        -512
      ],
      "id": "66386496-548f-4088-a3b4-d681703a69b4",
      "name": "Opcion 7: Menu de configuraciones",
      "webhookId": "945bbdb8-8eea-4dfd-966e-c6db770a725a",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Perfecto, vamos con tu agenda.\n\n쯈u칠 deseas hacer?\n\n1. Agendar una nueva cita\n2. Consultar tu agenda\n3. Reprogramar una cita\n4. Cancelar una cita\n5. Marcar una cita como completada\n9. Volver al men칰 principal",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -736,
        -160
      ],
      "id": "1a54dbe5-0db7-4aee-a2f3-2a89461ad15e",
      "name": "Opcion 8: Menu de administrador",
      "webhookId": "945bbdb8-8eea-4dfd-966e-c6db770a725a",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas",
            "paso_actual": "tareas",
            "datos_parciales": "agregar_tarea_paso1",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -544,
        -1360
      ],
      "id": "1cc2a129-882c-46c3-b0ad-97cb0535261f",
      "name": "Cambio para menu de tareas",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "pantalla_actual": "RECORDATORIO",
            "paso_actual": "RECORDATORIO",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -544,
        -1168
      ],
      "id": "1ca9a09d-54c6-43d8-a2ad-4ad0af1e8bdd",
      "name": "Cambio para menu de Recordatorios",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "helpper",
            "paso_actual": "helpper",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -544,
        -1008
      ],
      "id": "1c88c4b4-e515-4fd1-8035-40ea055ab332",
      "name": "Cambio para menu de  Habitos",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "agendar_cita",
            "paso_actual": "agendar_cita",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -544,
        -848
      ],
      "id": "08adf052-480a-401f-9bef-61d828b9bbbc",
      "name": "Cambio para menu de Listas",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "ayuda",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -288,
        496
      ],
      "id": "b44a6e15-70e6-4221-8a97-47adb8898d5a",
      "name": "Send a text message1",
      "webhookId": "fef1631b-ac79-4605-9105-4a7e648514e5",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "43175a5c-9e79-43c3-bf11-94d4d47cd7f8",
              "leftValue": "={{ String($json.Respuesta).trim() }}",
              "rightValue": "9",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -992,
        -1360
      ],
      "id": "df482c1d-6a0b-435f-bf5f-754e546ed55c",
      "name": "If3"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "755abc15-7e04-4a12-aac5-f03a4d52b3f2",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
              "rightValue": "^\\d{4}-\\d{2}-\\d{2}$",
              "operator": {
                "type": "string",
                "operation": "regex"
              }
            },
            {
              "id": "5370a9c8-8094-45cd-af63-21963cf17e8c",
              "leftValue": "={{ DateTime.fromISO($('Edit Fields').item.json.Respuesta).isValid && DateTime.fromISO($('Edit Fields').item.json.Respuesta) >= DateTime.now().startOf('day') }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            },
            {
              "id": "c37f79af-7393-466f-a89d-9e9e33557add",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        720,
        2656
      ],
      "id": "baff0671-9a3b-420c-abdd-519c780edd63",
      "name": "If1"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=pon una fecha valida \nFormato: YYYY-MM-DD\nEjemplo: 2025-12-20\n\n9. cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        928,
        2736
      ],
      "id": "3ea45aea-db42-4cc5-b5d7-09e0b24c9a47",
      "name": "Send a text message2",
      "webhookId": "8ba311eb-e2d4-4eff-ab32-cb570fac11a6",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "dadf3f29-caec-4413-848f-9e033a7d7443",
              "leftValue": "={{ $json.Respuesta }}",
              "rightValue": "=^(?:([0-9]|0[0-9]|1[0-9]|2[0-3])):[0-5]\\d$",
              "operator": {
                "type": "string",
                "operation": "regex"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        608,
        2928
      ],
      "id": "e91d76fb-e652-4a0f-8c03-3d52e71fd60c",
      "name": "If2"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=pon una hora valida\nFormato 24 horas (HH:MM)\nEjemplo: 14:30\n",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        832,
        3136
      ],
      "id": "515b5b28-874e-47aa-b776-7589c0074642",
      "name": "Send a text message3",
      "webhookId": "f77c2aae-238a-416c-b703-b535a1a5cb37",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_cita": "={{ $now.toFormat('yyyyMMddHHmmss') }}",
            "cita_fecha_tmp": "={{ $('Edit Fields').item.json.Respuesta }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "cita_fecha_tmp",
              "displayName": "cita_fecha_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "hora_tmp",
              "displayName": "hora_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        736,
        2304
      ],
      "id": "a5e1cf19-d1d2-4070-ac0f-13cb1bb23596",
      "name": "Append row in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        944,
        2304
      ],
      "id": "cd429b1f-0285-4b96-9d38-25a26435fe31",
      "name": "Get row(s) in sheet2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "802684e8-0e4e-4d4c-b0c1-09f80adb13cc",
              "name": "row_number",
              "value": 0,
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1152,
        2304
      ],
      "id": "99a3458a-6652-423c-aa18-e41192cf6486",
      "name": "Edit Fields3"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "13cd4317-7ce3-4c9e-9597-c3e4f1948136",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "9",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        80,
        2336
      ],
      "id": "9dce75da-8011-4565-acfe-96fef7714693",
      "name": "If4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "13cd4317-7ce3-4c9e-9597-c3e4f1948136",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "9",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        400,
        2784
      ],
      "id": "ab7479d6-a7ac-49f5-861c-265aa1faddcf",
      "name": "If5"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "13cd4317-7ce3-4c9e-9597-c3e4f1948136",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "9",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        304,
        2560
      ],
      "id": "f442c909-6cd7-421e-b6ca-b36b1173db46",
      "name": "If6"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "13cd4317-7ce3-4c9e-9597-c3e4f1948136",
              "leftValue": "={{ Boolean($('Edit Fields').item.json.Respuesta.trim() === '9') }}",
              "rightValue": "9",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        368,
        2976
      ],
      "id": "c1734403-4855-4815-bb74-234609cfc608",
      "name": "If7"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "13cd4317-7ce3-4c9e-9597-c3e4f1948136",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "9",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        352,
        3280
      ],
      "id": "d5802235-27b1-4677-b770-8a3204975205",
      "name": "If8"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "13cd4317-7ce3-4c9e-9597-c3e4f1948136",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "9",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        208,
        3584
      ],
      "id": "dbe56157-9ab2-49ae-a427-2940ebf36ae5",
      "name": "If9"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
                    "rightValue": "0",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "566f4640-3b7a-42b4-a2a6-f2833c16ae88"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "f86a2529-118f-4ee9-a01d-a361c4506c9b",
                    "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "aac2d97c-a7af-48a5-a4a2-2f222c44f5bf",
                    "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "cf9d9f8f-2f36-4b56-99cf-140fdd43ed8c",
                    "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "b62cb1f9-cebb-447d-9a01-e6ac241ac139",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
                    "rightValue": "",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -3056,
        6464
      ],
      "id": "01e43142-b29c-4b6b-8650-aa79df08d19c",
      "name": "Switch2"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agregar_tarea_paso1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "e95e3e69-9d87-49a3-85a5-f1e299834bb6"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "d467cc6b-6439-4f0d-a075-fba21045021e",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agregar_tarea_paso2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "0e3503d7-7d4b-441e-bf7e-4c1a1066cd25",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agregar_tarea_paso3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "20995112-f688-4443-bed5-9e6d04a8a28d",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agregar_tarea_paso4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "76b46b20-7b16-417c-808e-74da2b9f0351",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "agregar_tarea_paso5",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -1056,
        6080
      ],
      "id": "f25c4401-6309-4805-a2fd-0b1b3f46eabe",
      "name": "Switch3"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "excelente titulo asignado ",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -320,
        6176
      ],
      "id": "b58ec335-22ae-4fa1-a5e2-34baed39686b",
      "name": "Send a text message16",
      "webhookId": "9cf5165b-bc17-48b5-aa3c-59363603779e",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "64b4ed99-9e31-4e85-839b-4df8e0e74402",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -704,
        5968
      ],
      "id": "1f3df8f6-4043-4cf4-907a-4c53533724e9",
      "name": "If10"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "b57df98f-8b86-4fb9-8272-820330b6343a",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -624,
        6144
      ],
      "id": "92c38d80-329f-492a-a36e-d5edd031f727",
      "name": "If11"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "titulo": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -112,
        6160
      ],
      "id": "9dd60734-f878-455c-b7e6-f96622fe2bfa",
      "name": "Append or update row in sheet1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas ",
            "paso_actual": "tareas",
            "datos_parciales": "agregar_tarea_paso3",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        320,
        6160
      ],
      "id": "d7c23946-2256-47ed-93f7-caa1a1b03782",
      "name": "Append or update row in sheet8",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "13cd4317-7ce3-4c9e-9597-c3e4f1948136",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "9",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -624,
        6832
      ],
      "id": "67c77a40-a641-44df-b786-a090f2757b66",
      "name": "If12"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "13cd4317-7ce3-4c9e-9597-c3e4f1948136",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "9",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -672,
        6544
      ],
      "id": "27d7dcab-1c9b-46e0-b03f-4d88b0caada9",
      "name": "If13"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "13cd4317-7ce3-4c9e-9597-c3e4f1948136",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "9",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            },
            {
              "id": "6f5cbbf5-505f-45a4-8ef7-7f80c7e8278c",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        1712,
        7072
      ],
      "id": "40f9a9db-2f37-4d51-ab32-b28266ce84da",
      "name": "If14"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "b57df98f-8b86-4fb9-8272-820330b6343a",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -624,
        6320
      ],
      "id": "bbe9d381-6fbc-493f-aeb7-9fd33c60db36",
      "name": "If15"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "755abc15-7e04-4a12-aac5-f03a4d52b3f2",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
              "rightValue": "^\\d{4}-\\d{2}-\\d{2}$",
              "operator": {
                "type": "string",
                "operation": "regex"
              }
            },
            {
              "id": "5370a9c8-8094-45cd-af63-21963cf17e8c",
              "leftValue": "={{ DateTime.fromISO($('Edit Fields').item.json.Respuesta).isValid && DateTime.fromISO($('Edit Fields').item.json.Respuesta) >= DateTime.now().startOf('day') }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            },
            {
              "id": "c37f79af-7393-466f-a89d-9e9e33557add",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -336,
        6368
      ],
      "id": "f3db35fe-1485-4d06-91af-72eb9395338e",
      "name": "If16"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=pon una fecha valida \nFormato: YYYY-MM-DD\nEjemplo: 2025-12-20\n\n9. cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        256,
        6464
      ],
      "id": "5858a687-084f-424a-8597-36ab9956f138",
      "name": "Send a text message25",
      "webhookId": "8ba311eb-e2d4-4eff-ab32-cb570fac11a6",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Empecemos a crear tu cita.\n\nPaso 1 de 6\n쮺u치l es la fecha de la cita?\n\nFormato: YYYY-MM-DD\nEjemplo: 2025-12-20\n\n9. Cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        512,
        2304
      ],
      "id": "935b71c2-7166-434f-a57a-2563eca8c807",
      "name": "Send a text message4",
      "webhookId": "600b69c3-c5fe-4407-9a21-de1f732e4f09",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Excelente fecha de tarea asignada",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        128,
        6336
      ],
      "id": "519d3c16-baed-4b6b-82ac-2c7fee296664",
      "name": "Send a text message28",
      "webhookId": "b921b4ce-8c73-4ebe-9076-026f4babb940",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "fecha_objetivo": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        320,
        6336
      ],
      "id": "8c352ce1-2cde-4bcb-9afc-fed6a8f00fb0",
      "name": "Append or update row in sheet22",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas ",
            "paso_actual": "tareas",
            "datos_parciales": "agregar_tarea_paso4",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        704,
        6336
      ],
      "id": "05e3bc95-bcca-4143-9572-aa6678e29642",
      "name": "Append or update row in sheet24",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas",
            "paso_actual": "tareas",
            "datos_parciales": "agregar_tarea_paso14",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "id_temporal": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3664,
        7280
      ],
      "id": "0b790c32-8e22-447a-ad8a-9501bb24add2",
      "name": "Append or update row in sheet23",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Asigna tu fecha objetiva.\n\nPaso 1 de 6\n쮺u치l es la fecha de tu tarea?\n\nFormato: YYYY-MM-DD\nEjemplo: 2025-12-20\n\n9. Cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        96,
        6160
      ],
      "id": "f0a72ba2-ab70-492d-86d9-09fe471d4238",
      "name": "Send a text message23",
      "webhookId": "1f713dcb-3a92-40f2-b65b-56682f18945b",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=que estado quieres\n\nrealizado\npendiente\n\nescribe el estado que deseas",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        496,
        6336
      ],
      "id": "123c4855-2679-470d-a71b-7b77a17c7d9e",
      "name": "Send a text message26",
      "webhookId": "8fcb9867-e5d0-49ce-9a65-95af7634687a",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "tu estado fue asignado",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -240,
        6592
      ],
      "id": "33beae55-1efc-46e2-9c5b-1ff65d624bf5",
      "name": "Send a text message22",
      "webhookId": "138c3b47-ae66-4030-a8d7-f367a19ced2f",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "estado": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        0,
        6688
      ],
      "id": "70c6225d-265e-4f3e-86c9-6ba1d68892e9",
      "name": "Append or update row in sheet20",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=쮺칩mo ser치 la prioridad?\n\nalta\nmedia\nbaja",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        224,
        6640
      ],
      "id": "90333b03-d9b4-4fbe-bad0-8d18056ac008",
      "name": "Send a text message27",
      "webhookId": "1f713dcb-3a92-40f2-b65b-56682f18945b",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_tarea",
              "lookupValue": "={{ $('Ubicacion de pasos').first().json.id_temporal }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2480,
        6288
      ],
      "id": "c6186954-de0c-4f16-872e-86df2c3d4b0b",
      "name": "Get row(s) in sheet5",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas",
            "paso_actual": "tareas",
            "datos_parciales": "ver_tareas1"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1632,
        6240
      ],
      "id": "528707c0-4e29-4eb2-a588-dc604ec5d2f1",
      "name": "Append or update row in sheet27",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "={{ \n\" **Tus Tareas:**\\n\\n\" +\n$items().map((t, i) => \n  `${i+1}. ${t.json.titulo || 'Sin t칤tulo'}\\n    Prioridad: ${t.json.prioridad || 'No definida'}\\n    Estado: ${t.json.estado || 'Pendiente'}\\n    Fecha: ${t.json.fecha_objetivo || 'Sin fecha'}\\n`\n).join('\\n') +\n\"\\n9. Volver al men칰 principal\"\n}}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1840,
        6256
      ],
      "id": "9f18bd94-c2f2-4d98-9e6a-21f1c764e291",
      "name": "Send a text message29",
      "webhookId": "4ca2abc2-deb3-44dd-877c-a7f67e23f68e",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "sendAndWait",
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "message": "no tienes tareas",
        "options": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -2048,
        6256
      ],
      "id": "8053f3a2-83b6-4737-b800-0238428048b1",
      "name": "Send message and wait for response",
      "webhookId": "65a98690-3ba0-477b-9abe-4353b19dbb13",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "64b4ed99-9e31-4e85-839b-4df8e0e74402",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2704,
        6304
      ],
      "id": "564b1602-47b5-4ae1-aa3e-f07b578864d9",
      "name": "If18"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "ef242b45-866a-490c-81db-c46ce7109eec",
              "leftValue": "={{ !['0','1','2','3','9'].includes(String($json.Respuesta || '').trim()) }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2896,
        2416
      ],
      "id": "896be3d4-1332-4f14-9164-487c0d1f70d1",
      "name": "If19"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_tarea",
              "lookupValue": "={{ $('Ubicacion de pasos').item.json.id_temporal }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        656,
        6960
      ],
      "id": "0ad623ad-8983-4249-a2b1-e7084defc123",
      "name": "Get row(s) in sheet3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "pantalla_actual": "tareas",
            "paso_actual": "tareas",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "datos_parciales": "agendando_tarea_paso7",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_temporal": "={{ $('Ubicacion de pasos').item.json.id_temporal }}"
          },
          "matchingColumns": [
            "id_temporal"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1456,
        7008
      ],
      "id": "a55a44fb-ba2e-4f76-8e3e-441c6dd56cc3",
      "name": "Append or update row in sheet17",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Revisa la informaci칩n de tu tarea:\n\ntarea:\n\n{{ $json.titulo }}\n{{ $json.prioridad }}\n{{ $json.fecha_objetivo }}\n{{ $json.estado }}\n\n쯈u칠 deseas hacer?\n c. Confirmar y guardar\n e. Editar informaci칩n\n d. Eliminar\n9. Cancelar\n\nSugerencia:\nescribe c para confirmar o e para editar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        944,
        6960
      ],
      "id": "60af1abc-5495-40ba-9b99-bb05d6b15d24",
      "name": "Send a text message19",
      "webhookId": "e00d157a-ce29-4a37-8822-00f6f883a300",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas ",
            "paso_actual": "tareas",
            "datos_parciales": "agregar_tarea_paso6",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        352,
        6944
      ],
      "id": "504478b0-75e4-4114-bc98-5b4412b569d5",
      "name": "Append or update row in sheet29",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "39831597-e554-45b9-a5f2-e26b66563532",
              "leftValue": "={{ ['c','e','d','si','no','t','p','f'].includes(String($json.Respuesta || '').trim().toLowerCase()) }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2256,
        3296
      ],
      "id": "a0b34228-0bfe-42f0-a2c7-10f856d4cc32",
      "name": "If20"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=la prioridad fue asignada",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -160,
        6912
      ],
      "id": "41c8bb2a-13ec-4948-bb59-788985c1662c",
      "name": "Send a text message31",
      "webhookId": "1f713dcb-3a92-40f2-b65b-56682f18945b",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "prioridad": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        96,
        6960
      ],
      "id": "9e58ac33-e514-4401-97f3-11c5eb3ee1fa",
      "name": "Append or update row in sheet18",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas ",
            "paso_actual": "tareas",
            "datos_parciales": "agregar_tarea_paso5",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        400,
        6672
      ],
      "id": "bc398829-40b1-4d2c-a7f3-e0e63d15103a",
      "name": "Append or update row in sheet28",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "1592b138-8334-4f5b-8786-d126a77198c8",
              "leftValue": "={{ ['pendiente','realizado'].includes(String($json.Respuesta || '').trim().toLowerCase()) }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -448,
        6640
      ],
      "id": "d300b525-fa9d-4aa3-bfb3-3d89d467dfb0",
      "name": "If21"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Ups, parece que escribiste mal alguna de las opciones.\npendiente\nrealizado\nPor favor, vuelve a escribir la opcion correctamente para poder continuar.",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -240,
        6736
      ],
      "id": "e23e9f4a-a41b-499a-8530-b141e490da4c",
      "name": "Send a text message18",
      "webhookId": "729d53bf-373b-42b1-bc64-bd75a62b003c",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "9c4b4053-32a8-4f7b-8f21-e2be41597dec",
              "leftValue": "={{ ['alta','media','baja'].includes(String($json.Respuesta || '').trim().toLowerCase()) }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -672,
        7008
      ],
      "id": "230488e7-8891-413a-9aa7-68b7dfae5491",
      "name": "If22"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Ups, parece que escribiste mal alguna de las opciones.\nalta\nmedia\nbaja\nPor favor, vuelve a escribir la opcion correctamente para poder continuar.",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        0,
        7088
      ],
      "id": "36beee79-2cb8-469e-b57d-8c2f27771e21",
      "name": "Send a text message20",
      "webhookId": "4c0b0b51-4378-41b5-8cfd-d994ec54f851",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Vamos a crear tu tarea \n\nPaso 1 de 4 쮺u치l es el t칤tulo de la tarea?\n\nEjemplo: Estudiar SQL\n\n9. Cancelar\n\nTip: escribe solo el texto del t칤tulo y env칤a",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -304,
        5888
      ],
      "id": "3d875022-0c8b-4500-9dc8-5cf1d68a6064",
      "name": "Send a text message32",
      "webhookId": "644d5431-73f5-4a20-af26-5acce132373c",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas",
            "paso_actual": "tareas",
            "datos_parciales": "agregar_tarea_paso2",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "id_temporal": "={{ $now.toFormat('yyyyMMddHHmmss') }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -16,
        5888
      ],
      "id": "172743ae-1e64-4d3e-b8f1-6614ccae0323",
      "name": "Append or update row in sheet2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "322555b0-48a9-421c-9a38-41f10e46c415",
              "leftValue": "={{ ['si', 'no'].includes(String($json.Respuesta || '').trim().toLowerCase()) }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        608,
        5936
      ],
      "id": "eba32af9-8251-41e3-8709-b86da433a932",
      "name": "If23"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "tarea confirmada y guardada",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2608,
        6480
      ],
      "id": "c6c8f0d7-3665-4fb1-8ce4-c923294ecee3",
      "name": "Send a text message24",
      "webhookId": "91b417d1-30cb-4cd3-a44b-5c8a6deb2331",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2928,
        6480
      ],
      "id": "8a63c03b-10fb-44b9-a84e-c82aa8d31c8a",
      "name": "Append or update row in sheet21",
      "alwaysOutputData": false,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "datos_parciales": "tareas",
            "paso_actual": "agendando_cita_paso8",
            "pantalla_actual": "tareas"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3216,
        6496
      ],
      "id": "af77bdbb-43c4-44a0-bcb5-84d962cc8ed9",
      "name": "Append or update row in sheet25",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2464,
        7264
      ],
      "id": "03c6e53f-20d9-4f20-9796-e0faafe3d2e3",
      "name": "Get row(s) in sheet6",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Estas seguro que quieres eliminar?\n\nTarea: {{$json.titulo}} ({{$json.estado}})\n\nsi \nno\n\nSugerencia: debes decir si o no quieres eliminar la tarea",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2704,
        7296
      ],
      "id": "86cb0b32-b1ac-4f7d-86f4-849e0f6edddd",
      "name": "Send a text message21",
      "webhookId": "f83fb106-7daa-4d49-b66c-0cf55994f838",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "estado": "eliminado",
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3392,
        7280
      ],
      "id": "4b83866e-6846-4fbd-8436-9287517504ca",
      "name": "Append or update row in sheet16",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "datos_parciales": "agregar_tarea_paso13",
            "paso_actual": "tareas",
            "pantalla_actual": "tareas",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2928,
        7296
      ],
      "id": "fcf53a50-2950-4880-83d8-bfe3cce2f2f3",
      "name": "Append or update row in sheet26",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ String($('Edit Fields').item.json.Respuesta || '').trim().toLowerCase() === 'si' }}",
                    "rightValue": "si",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    },
                    "id": "1e302102-b9d2-4057-b79d-bf22fb3d108f"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "72e13657-5949-49e6-808c-4f3c4c6e1cc5",
                    "leftValue": "={{ String($('Edit Fields').item.json.Respuesta || '').trim().toLowerCase() === 'no' }}",
                    "rightValue": "no",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        3136,
        7296
      ],
      "id": "ca4f3a2a-6e4f-4f98-9f0a-4508aa275c65",
      "name": "Switch4"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Identificador de pasos').item.json.Respuesta }}",
                    "rightValue": "c",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "06da3f13-b82f-4cf1-8432-13d990f5aedd"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "78613de1-d844-4c42-9bd3-3bff34574a08",
                    "leftValue": "={{ $('Identificador de pasos').item.json.Respuesta }}",
                    "rightValue": "e",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "30e7277d-d3a9-432f-8ac3-95c35ddf0e5d",
                    "leftValue": "={{ $('Identificador de pasos').item.json.Respuesta }}",
                    "rightValue": "d",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        1968,
        6816
      ],
      "id": "a619bb07-9ac5-4353-abd5-5b88a61713e2",
      "name": "Switch5"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "tu tarea fue eliminada exitosamente",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3920,
        7280
      ],
      "id": "f9c45eed-11be-46a4-a2b6-72bc0787f8cf",
      "name": "Send a text message17",
      "webhookId": "464e8e29-0443-44b8-9c35-ad7f78885958",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=que deseas editar?\n\nt. titulo\np. prioridad\nf. fecha objetivo\n9. cancelar \n",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2384,
        6848
      ],
      "id": "c679906c-a69d-495b-b41c-e139288ab58e",
      "name": "Send a text message30",
      "webhookId": "03c16e76-0baa-425b-acfd-22115fa88007",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas",
            "paso_actual": "tareas",
            "datos_parciales": "agendando_cita_paso9",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "id_temporal": "={{ $('Ubicacion de pasos').item.json.id_temporal }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2592,
        6848
      ],
      "id": "94c0392e-88dd-414f-8bee-027fdcf7e07b",
      "name": "Append or update row in sheet19",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Identificador de pasos').item.json.Respuesta }}",
                    "rightValue": "t",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "febab614-e923-4085-9afa-be6f2a169921"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "21288c90-2f09-48a2-8ec2-4ffe3f28b971",
                    "leftValue": "={{ $('Identificador de pasos').item.json.Respuesta }}",
                    "rightValue": "p",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "9433f5e6-e85f-49e0-a0a1-d40a075a4cd4",
                    "leftValue": "={{ $('Identificador de pasos').item.json.Respuesta }}",
                    "rightValue": "f",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        2800,
        6784
      ],
      "id": "3581ad62-07ad-48f1-bd64-871e0465206c",
      "name": "Switch6"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "titulo": "={{ $json.data.text }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3520,
        6688
      ],
      "id": "d7a439dd-f252-4d40-b54f-4ad0785bda4e",
      "name": "Append or update row in sheet30",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_tarea",
              "lookupValue": "={{ $('Ubicacion de pasos').item.json.id_temporal }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        4288,
        6688
      ],
      "id": "48f53448-7056-4c92-aeda-2a7be1007d09",
      "name": "Get row(s) in sheet4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=titulo acctualizado, ahora tu titulo es\n\n{{ $json.titulo }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        4464,
        6688
      ],
      "id": "e3b9035a-d43a-4b33-bf7d-b4903db15d91",
      "name": "Send a text message34",
      "webhookId": "3d5620db-c73d-473e-a371-a53ec7836ee0",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas",
            "paso_actual": "tareas",
            "datos_parciales": "=agregar_tarea_paso10",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "id_temporal": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        4032,
        6688
      ],
      "id": "5ec0f5f1-2f8f-476b-ae40-3e30de15830f",
      "name": "Append or update row in sheet31",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "c68c3547-ae60-4101-8976-423ab44c8cdc",
              "leftValue": "={{ ['t', 'p', 'f'].includes(String($json.Respuesta || '').trim().toLowerCase()) }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        1520,
        6496
      ],
      "id": "258f1d79-937a-4de2-a02c-b68e7b552a7c",
      "name": "If24"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "=",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "prioridad": "={{ $json.data.text }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3520,
        6848
      ],
      "id": "a5d20da4-ee61-4f63-bf27-f5099329a4f2",
      "name": "Append or update row in sheet32",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_tarea",
              "lookupValue": "={{ $('Ubicacion de pasos').item.json.id_temporal }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        4256,
        6848
      ],
      "id": "fa4a7fbf-dc3f-480c-80c9-35caf277f726",
      "name": "Get row(s) in sheet7",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=prioridad acctualizado, ahora tu prioridad es\n\n{{ $json.prioridad }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        4480,
        6848
      ],
      "id": "3d40d63c-8eb3-4af5-bb3c-ef7570cdce2e",
      "name": "Send a text message36",
      "webhookId": "3d5620db-c73d-473e-a371-a53ec7836ee0",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas",
            "paso_actual": "tareas",
            "datos_parciales": "=agregar_tarea_paso11",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "id_temporal": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        4032,
        6848
      ],
      "id": "6c54676d-b4a1-452e-ad3e-29fc8c8ea19b",
      "name": "Append or update row in sheet33",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "estado": "={{ $json.data.text }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3424,
        7024
      ],
      "id": "619cc0d3-969e-4915-b11f-3e19aea67fda",
      "name": "Append or update row in sheet34",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_tarea",
              "lookupValue": "={{ $('Ubicacion de pasos').item.json.id_temporal }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        4176,
        7024
      ],
      "id": "c38bd16c-ba06-4d3c-92fc-91cb1fd74dc8",
      "name": "Get row(s) in sheet8",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=prioridad acctualizado, ahora tu prioridad es\n\n{{ $json.estado }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        4416,
        7024
      ],
      "id": "193aaa33-4040-48ad-a78f-7d47f80e07c8",
      "name": "Send a text message38",
      "webhookId": "3d5620db-c73d-473e-a371-a53ec7836ee0",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas",
            "paso_actual": "tareas",
            "datos_parciales": "=agregar_tarea_paso12",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "id_temporal": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3952,
        7024
      ],
      "id": "76230c43-f95c-4e07-989d-cc40f6ca73ea",
      "name": "Append or update row in sheet35",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "se agreg칩 el nuevo titulo",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3776,
        6688
      ],
      "id": "aadf39c8-6a6d-46da-b034-f1f69772c39d",
      "name": "Send a text message39",
      "webhookId": "14ec759a-8350-4fd8-96ab-517d6af71278",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "se agreg칩 el nuevo prioridad",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3776,
        6848
      ],
      "id": "8dc487ea-0443-4765-9cf3-a83a14934e67",
      "name": "Send a text message40",
      "webhookId": "0a96fdf3-598e-40a0-882a-e43ec12ccab9",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "se agreg칩 el nuevo prioridad",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3680,
        7024
      ],
      "id": "3ce064ab-088d-4638-8803-16107cbd5832",
      "name": "Send a text message41",
      "webhookId": "0fe3fa22-3247-44d0-a085-6054a0960ec5",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "sendAndWait",
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "message": "escribe el nuevo titulo",
        "responseType": "freeText",
        "options": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3264,
        6688
      ],
      "id": "3a1f713c-9c1c-442b-a0fb-c2c4eebf7129",
      "name": "Send message and wait for response1",
      "webhookId": "aa5728a8-290b-497c-927c-4bed9f75d2c5",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "sendAndWait",
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "message": "escribe la nueva prioridad",
        "responseType": "freeText",
        "options": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3264,
        6832
      ],
      "id": "faaf5fbf-745a-425e-ae04-caf81eab73d1",
      "name": "Send message and wait for response2",
      "webhookId": "aa5728a8-290b-497c-927c-4bed9f75d2c5",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "sendAndWait",
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "message": "escribe el nuevo estado",
        "responseType": "freeText",
        "options": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3232,
        7024
      ],
      "id": "ceeb1cab-7702-418a-a53c-1b5c63abad4d",
      "name": "Send message and wait for response3",
      "webhookId": "aa5728a8-290b-497c-927c-4bed9f75d2c5",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3040,
        6704
      ],
      "id": "62f084f2-62d4-4f33-9f1d-c4d5de48a781",
      "name": "Get row(s) in sheet9",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3040,
        6816
      ],
      "id": "6a494034-0de3-46bf-8b59-9b004fe215e7",
      "name": "Get row(s) in sheet10",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        3024,
        6992
      ],
      "id": "2bed06d8-4240-43ee-aa32-94020d49a4d0",
      "name": "Get row(s) in sheet11",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "content": "## CITAS\n",
        "height": 4416,
        "width": 3296
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -864,
        1184
      ],
      "typeVersion": 1,
      "id": "8437c67c-279c-45ee-9ba4-e746d3080d39",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## MENU PRINCIPAL\n",
        "height": 2080,
        "width": 1520,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1520,
        -1808
      ],
      "typeVersion": 1,
      "id": "5caa1239-394e-40a1-9450-31c064180540",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## AYUDA \n",
        "height": 192,
        "width": 432,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -464,
        464
      ],
      "typeVersion": 1,
      "id": "206c25a0-78b9-465e-a013-72cd5368c603",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "5ade5b74-c2bc-43bb-82dc-7225b86f2b83"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "1c958171-e15d-4efe-bbfb-0558391edc02",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "ff1cfc93-98f5-45cd-ad34-af3b7808e4ae",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "079de157-fdf7-4d23-bbf7-36345e6e0a54",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "b58b3e2d-ab96-4522-b168-4cfb7fa1d0c4",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "5",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -704,
        1616
      ],
      "id": "dafedf56-91a8-4bb2-80c1-98388c63a619",
      "name": "Opciones Menu Agendacion de citas"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_User",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        224,
        1552
      ],
      "id": "ba37a82d-d224-430f-88cd-5254e5109540",
      "name": "Extraer datos de cita",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_User",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        192,
        1712
      ],
      "id": "a3d739f0-df7d-4acd-a3e0-321a2eae4065",
      "name": "Extraer datos de cita1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_User",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        192,
        1888
      ],
      "id": "a77ed346-b82b-4c21-9fb7-bdd658211835",
      "name": "Extraer datos de cita2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Que cita desea marcar como completada?",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        16,
        2048
      ],
      "id": "ef0e10ba-7e8f-4816-9f1e-af3054be2dac",
      "name": "Send a text message35",
      "webhookId": "d9b9196f-82c4-4f0e-98a3-0e3651312024",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_User",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        192,
        2048
      ],
      "id": "108ef706-ab53-4939-9af0-aa86704235fd",
      "name": "Extraer datos de cita3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Empecemos a crear tu cita.\n\nescribe 1 para continuar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -160,
        1408
      ],
      "id": "9b83bb57-95c8-4568-b728-80b6f754bfe3",
      "name": "Send a text message33",
      "webhookId": "600b69c3-c5fe-4407-9a21-de1f732e4f09",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "cita",
            "paso_actual": "agendando_cita",
            "datos_parciales": "agendando_cita_paso1",
            "timestamp_ultima_interaccion": "{{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        16,
        1408
      ],
      "id": "9a01827b-e8d9-4224-aba2-5c44c61212d2",
      "name": "Append or update row in sheet36",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Vamos a revisar que tienes en tu agenda\n",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -176,
        1552
      ],
      "id": "95b4495b-4a3a-42a0-a3d3-a66a8d86bb31",
      "name": "Send a text message37",
      "webhookId": "600b69c3-c5fe-4407-9a21-de1f732e4f09",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Perfecto, vamos con tu agenda.\n\n쯈u칠 deseas hacer?\n\n1. Agendar una nueva cita\n2. Consultar tu agenda\n3. Reprogramar una cita\n4. Cancelar una cita\n5. Marcar una cita como completada\n9. Volver al men칰 principal",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        592,
        1552
      ],
      "id": "84b2081c-ed1f-4f4c-869a-dad4d015f2ad",
      "name": "Send a text message43",
      "webhookId": "9e26e10a-8854-4ef9-a688-8148a043a915",
      "executeOnce": true,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "Ver agenda",
            "paso_actual": "agendar_cita",
            "timestamp_ultima_interaccion": "{{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        32,
        1552
      ],
      "id": "d4c31743-d30b-49cc-a996-eddbdec343ed",
      "name": "Append or update row in sheet37",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Que cita deseas reprogramar?\n\n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        16,
        1712
      ],
      "id": "f9af276e-2352-4809-8883-677aa5d1892b",
      "name": "Send a text message44",
      "webhookId": "d8045618-1843-49a9-9951-df40424284c1",
      "executeOnce": false,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "={{ $json.row_number-1 }}. Cita con {{ $('Extraer datos de cita1').item.json.Nombre  }} el dia {{ $('Extraer datos de cita1').item.json.Fecha }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        400,
        1712
      ],
      "id": "461adf3c-4d56-495f-a5cb-ba18f4183aa5",
      "name": "Send a text message45",
      "webhookId": "44aa2898-395d-4e6f-a1bc-1c3d65a6c485",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "Reprogramar una cita",
            "paso_actual": "editando_agenda",
            "datos_parciales": "reagendando_cita"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -176,
        1712
      ],
      "id": "27732294-8207-4637-98b6-8da06b47aafb",
      "name": "Append or update row in sheet38",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "eliminar_cita",
            "paso_actual": "eliminar_cita",
            "timestamp_ultima_interaccion": "{{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -176,
        1888
      ],
      "id": "3917a9cb-dcef-4e8b-a0bb-bfe4a0f7af37",
      "name": "Append or update row in sheet39",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "={{ $json.row_number-1 }}. Cita con {{ $('Extraer datos de cita2').item.json.Nombre  }} el dia {{ $('Extraer datos de cita2').item.json.Fecha }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        400,
        1888
      ],
      "id": "0c56b622-47a9-4a86-b103-6eec3dac8c7d",
      "name": "Send a text message46",
      "webhookId": "44aa2898-395d-4e6f-a1bc-1c3d65a6c485",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Que cita deseas Eliminar?\n\n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        16,
        1888
      ],
      "id": "7c9bd783-4ead-463a-b204-749c31acf13b",
      "name": "Send a text message47",
      "webhookId": "d8045618-1843-49a9-9951-df40424284c1",
      "executeOnce": false,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "completar_cita",
            "paso_actual": "completar_cita",
            "timestamp_ultima_interaccion": "{{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -176,
        2048
      ],
      "id": "7ed5bdf7-f91c-4c4a-ab6c-7aa3c02f3d88",
      "name": "Append or update row in sheet40",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "={{ $json.row_number-1 }}. Cita con {{ $('Extraer datos de cita3').item.json.Nombre  }} el dia {{ $('Extraer datos de cita3').item.json.Fecha }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        384,
        2048
      ],
      "id": "bceb3923-de27-438b-a41d-1e6a4a088c20",
      "name": "Send a text message48",
      "webhookId": "44aa2898-395d-4e6f-a1bc-1c3d65a6c485",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_cita": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "nombre": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "cita_fecha_tmp",
              "displayName": "cita_fecha_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "hora_tmp",
              "displayName": "hora_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        864,
        3296
      ],
      "id": "44fbe78e-84b2-4a72-8f10-58aa163aec24",
      "name": "Append or update row in sheet41",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "f3bb1e44-8d19-4f2a-b3e3-a3f7e923df97",
              "leftValue": "={{ $json.id_Cita }}",
              "rightValue": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        544,
        4256
      ],
      "id": "98476395-cf41-4f05-8fa6-91ced4be27ec",
      "name": "Filter4"
    },
    {
      "parameters": {
        "operation": "delete",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "startIndex": "={{ $json.row_number }}"
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        736,
        4272
      ],
      "id": "f6d38aef-a8c4-43db-acb8-c997d87eacd7",
      "name": "Delete rows or columns from sheet2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "agendar_cita",
            "paso_actual": "agendar_cita",
            "timestamp_ultima_interaccion": "{{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        960,
        4272
      ],
      "id": "a5352f43-0512-4e70-8a19-7ae051615556",
      "name": "Update row in sheet1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "7c0cbcc0-b687-40e8-85c3-58cd2ab40cfe"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "a76532b9-f5a9-4c25-92e7-4d505bd70a97",
                    "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "012d2af1-566b-4c93-9615-c6cddad02fe2",
                    "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        128,
        4192
      ],
      "id": "40e03a24-63dc-453e-8792-bc6f17a54908",
      "name": "Switch7"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "La cita ha sido agendada con exito, sera enviado al menu principal en este momento",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        352,
        4048
      ],
      "id": "f5dd45eb-d0df-43e2-9def-08d3e93a5527",
      "name": "Send a text message49",
      "webhookId": "ce0508b9-94ab-4ace-9597-943db11ed57c",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "menu_principal",
            "paso_actual": "menu_principal",
            "datos_parciales": "{{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        560,
        4048
      ],
      "id": "a8aa691c-2a88-44d4-97ff-e999e23cb62b",
      "name": "Append or update row in sheet42",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Presione 1 para continuar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1152,
        4256
      ],
      "id": "6f82884b-bb6b-402d-80a8-fcdd38bd974a",
      "name": "Send a text message50",
      "webhookId": "efdf8acb-6ce2-4fe4-92bc-600c23307f46",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_User",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        112,
        4576
      ],
      "id": "343f6526-c362-482e-b97b-d30408a5ae69",
      "name": "Adquisicion de datos de todas las listas",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 3
          },
          "conditions": [
            {
              "id": "869bc501-bb41-4f87-82cf-e6254b8d5eea",
              "leftValue": "={{ $itemIndex + 1 }}",
              "rightValue": "={{ $('Assist time trigger').item.json.message.text }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        272,
        4576
      ],
      "id": "91f657a8-cf32-47b0-b367-efcc6decfc25",
      "name": "Filtrado de seleccion"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=쮺u치l es la fecha de la cita?\n\nFormato: YYYY-MM-DD\nEjemplo: 2025-12-20\n\n9. Cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        448,
        4576
      ],
      "id": "f6ca070e-3567-4d85-ac15-1f7c10cca6e3",
      "name": "Selector de fecha",
      "webhookId": "81a7ca65-97a8-44fb-bf2c-3912d2a1e33d",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_temporal": "={{ $('Filtrado de seleccion').item.json.id_Cita }}",
            "paso_actual": "reagendando_cita"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        640,
        4576
      ],
      "id": "86fa5f4a-43b6-4ac9-ae58-cadbba823f07",
      "name": "Seteo de nuevo valor de fecha",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_cita": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "cita_fecha_tmp": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "cita_fecha_tmp",
              "displayName": "cita_fecha_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "hora_tmp",
              "displayName": "hora_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        128,
        4720
      ],
      "id": "13eac488-14b5-43cb-8e22-3646975e4cba",
      "name": "Cambio de valor de fecha",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Dia actualizado",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        288,
        4720
      ],
      "id": "d7cee0e5-c754-45e8-8b67-1afb2436c563",
      "name": "Confirmacion de fecha",
      "webhookId": "77d470a3-d36e-4001-839a-a0167e11a40f",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.from.id }}",
        "text": "=쮸 qu칠 hora ser치 la cita?\n\nFormato 24 horas (HH:MM)\nEjemplo: 14:30",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        464,
        4720
      ],
      "id": "6f3df0de-85e7-4977-bfdf-047c89eb4df3",
      "name": "Seteo de valor de hora",
      "webhookId": "42459035-b58b-48a9-9068-1c7dc489b55d",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "paso_actual": "rehorificando_cita"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        592,
        4720
      ],
      "id": "0c2d0745-1889-4c44-81d7-83a131bd8b67",
      "name": "Asignacion ruta de hora",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_cita": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "hora_tmp": "={{ $('Assist time trigger').item.json.message.chat.id }}"
          },
          "matchingColumns": [
            "id_cita"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "cita_fecha_tmp",
              "displayName": "cita_fecha_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "hora_tmp",
              "displayName": "hora_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        128,
        4880
      ],
      "id": "8a59a973-1729-49a8-a628-525601637a4e",
      "name": "Reseteo de valor de hora",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=La cita ha sido reagendada con exito\nAhora sera direccionado al menu principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        288,
        4880
      ],
      "id": "9484cce6-83b0-4f5e-aa50-f14e538781cf",
      "name": "Confirmacion de reagendamiento",
      "webhookId": "786c6390-e4af-439d-b312-65bdfb479988",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Hola, soy AgendaBot 游녦\n\nEstoy aqu칤 para ayudarte a organizar tus citas, tareas y recordatorios\nde forma sencilla y sin complicaciones.\n\nPuedes escribirme en cualquier momento.\nPara avanzar, solo tienes que escribir el n칰mero de la opci칩n que quieras usar.\n\nMen칰 principal:\n0. Ayuda\n1. Agenda (citas)\n2. Tareas\n3. Recordatorios\n4. H치bitos\n5. Listas\n6. Reportes\n7. Configuraci칩n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        432,
        4880
      ],
      "id": "67c564f9-c360-4e3d-98e9-edc82acb1e0f",
      "name": "Redireccionado al menu principal",
      "webhookId": "8d06d212-566c-4486-b473-a6c830944836",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "menu_principal",
            "paso_actual": "menu_principal",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        576,
        4880
      ],
      "id": "079f79cd-6dcb-4be5-8058-83fe61273894",
      "name": "Seteo de ruta a menu principal",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 3
          },
          "conditions": [
            {
              "id": "b1c078da-99d8-417c-b5e1-aa432b4681b5",
              "leftValue": "={{ $itemIndex + 1 }}",
              "rightValue": "={{ $('Assist time trigger').item.json.message.text }}",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        272,
        5120
      ],
      "id": "7e7aea10-d539-4b0b-a97e-f4f568fd4722",
      "name": "Filter"
    },
    {
      "parameters": {
        "operation": "delete",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=0"
        },
        "startIndex": "={{ $json.row_number }}"
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        416,
        5120
      ],
      "id": "1b26f19e-23d2-4bf9-a7df-5f68b9d6ef14",
      "name": "Delete rows or columns from sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        112,
        5120
      ],
      "id": "cf42f506-097a-41a4-ad13-d54e19aaaceb",
      "name": "Obtencion de datos para eliminar",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        112,
        5312
      ],
      "id": "f40073aa-d36b-49ab-9e51-dd903b1fe4e1",
      "name": "Obtencion de datos para completar",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 3
          },
          "conditions": [
            {
              "id": "a1bd4684-092f-43b5-b429-25091b345463",
              "leftValue": "={{ $itemIndex + 1 }}",
              "rightValue": "={{ $('Assist time trigger').item.json.message.text }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        272,
        5312
      ],
      "id": "f8907d77-96e1-47fb-aeb7-a5bedf024009",
      "name": "Filter3"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=La cita fue eliminada con exito.\nAhora sera redireccionado al menu principal.",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        768,
        5120
      ],
      "id": "d44ba94c-9e9e-438e-9c45-53775cf0d045",
      "name": "Send a text message51",
      "webhookId": "f24d3e99-8217-42db-96f0-20f63fabc361",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "menu_principal",
            "paso_actual": "menu_principal",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        592,
        5120
      ],
      "id": "b50482ac-4ced-48e1-bbc8-224333bdb36a",
      "name": "Append or update row in sheet43",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Hola, soy AgendaBot 游녦\n\nEstoy aqu칤 para ayudarte a organizar tus citas, tareas y recordatorios\nde forma sencilla y sin complicaciones.\n\nPuedes escribirme en cualquier momento.\nPara avanzar, solo tienes que escribir el n칰mero de la opci칩n que quieras usar.\n\nMen칰 principal:\n0. Ayuda\n1. Agenda (citas)\n2. Tareas\n3. Recordatorios\n4. H치bitos\n5. Listas\n6. Reportes\n7. Configuraci칩n",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        928,
        5120
      ],
      "id": "ae9443d9-4f3c-4c2f-8e88-ca44b9cf6f4b",
      "name": "Send a text message52",
      "webhookId": "9d112c78-e1a7-4986-8068-916557e91513",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_Cita": "={{ $json.id_Cita }}",
            "Estado": "Completada",
            "Time Stamp": "={{ $now }}"
          },
          "matchingColumns": [
            "id_Cita"
          ],
          "schema": [
            {
              "id": "id_Cita",
              "displayName": "id_Cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Fecha",
              "displayName": "Fecha",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Hora",
              "displayName": "Hora",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Id_telegram",
              "displayName": "Id_telegram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Nombre",
              "displayName": "Nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Motivo",
              "displayName": "Motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Canal",
              "displayName": "Canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Estado",
              "displayName": "Estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Creado_por",
              "displayName": "Creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Time Stamp",
              "displayName": "Time Stamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        448,
        5312
      ],
      "id": "f4468e3d-7aa6-4e66-bb8e-8d3a95be2432",
      "name": "Append or update row in sheet44",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=La cita con  {{ $('Filter3').item.json.Nombre }} ha sido completada con exito",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        768,
        5312
      ],
      "id": "84c740c6-2d73-453f-aecd-f4f620da3aa7",
      "name": "Send a text message53",
      "webhookId": "6107c6b6-8502-4572-bc8a-a74e3d2cf60a",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Hola, soy AgendaBot 游녦\n\nEstoy aqu칤 para ayudarte a organizar tus citas, tareas y recordatorios\nde forma sencilla y sin complicaciones.\n\nPuedes escribirme en cualquier momento.\nPara avanzar, solo tienes que escribir el n칰mero de la opci칩n que quieras usar.\n\nMen칰 principal:\n0. Ayuda\n1. Agenda (citas)\n2. Tareas\n3. Recordatorios\n4. H치bitos\n5. Listas\n6. Reportes\n7. Configuraci칩n",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        944,
        5312
      ],
      "id": "cc26bf5a-4426-44f9-9077-9ee5298ebc71",
      "name": "Send a text message54",
      "webhookId": "9d112c78-e1a7-4986-8068-916557e91513",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "menu_principal",
            "paso_actual": "menu_principal",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        608,
        5312
      ],
      "id": "cf749031-2cca-4857-b09f-4e4fa478f5da",
      "name": "Append or update row in sheet45",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "CITAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        368,
        4240
      ],
      "id": "b1d658a4-c94b-4517-8baf-da3858b40e51",
      "name": "Get row(s) in sheet12",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "36e98689-3185-48fa-b457-a50d44a794d2",
              "leftValue": "={{ $json.estado && !$json.estado.toLowerCase().includes('eliminado') }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -2272,
        6272
      ],
      "id": "24aed4ab-20ba-4962-987e-d79c64561dd5",
      "name": "If25"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "estado": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1920,
        6832
      ],
      "id": "d72ab0aa-124a-41e1-9c4b-65e3d56dd15d",
      "name": "Append or update row in sheet46",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "se cambio la prioridad",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1232,
        6832
      ],
      "id": "63d924ff-8db6-4268-931a-d0acaf84816b",
      "name": "Send a text message56",
      "webhookId": "1f713dcb-3a92-40f2-b65b-56682f18945b",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas ",
            "paso_actual": "tareas",
            "datos_parciales": "cambiar_estado3",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1024,
        6832
      ],
      "id": "4cb3d40d-c251-41ee-8cbb-cf120be51210",
      "name": "Append or update row in sheet47",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "prioridad": "={{ $json.data.text }}",
            "id_tarea": "={{ $('Get row(s) in sheet13').item.json.id_tarea }}",
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1456,
        6832
      ],
      "id": "14dd9ff1-7b42-4f04-928b-fe89c9846421",
      "name": "Append or update row in sheet48",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "sendAndWait",
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "message": "=que estado quieres\n\nrealizado\npendiente\n\nescribe el estado que deseas",
        "responseType": "freeText",
        "options": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1696,
        6832
      ],
      "id": "f084c14f-175b-40a4-b945-db588b3b3ffc",
      "name": "Send message and wait for response4",
      "webhookId": "491872be-a94d-4813-900a-7a052ebedb77",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_tarea",
              "lookupValue": "={{ $('Ubicacion de pasos').first().json.id_temporal }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2720,
        6800
      ],
      "id": "5a1b0af4-8067-44fb-bbd2-960ccb929fb6",
      "name": "Get row(s) in sheet13",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas",
            "paso_actual": "tareas",
            "datos_parciales": "cambiar_estado1"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2192,
        6832
      ],
      "id": "3f4d1b41-f826-413e-a7e2-e70df287721f",
      "name": "Append or update row in sheet49",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "={{ \n\" **Tus Tareas:**\\n\\n\" +\n$items().map((t, i) => \n  `${i+1}. ${t.json.titulo || 'Sin t칤tulo'}\\n    Prioridad: ${t.json.prioridad || 'No definida'}\\n    Estado: ${t.json.estado || 'Pendiente'}\\n    Fecha: ${t.json.fecha_objetivo || 'Sin fecha'}\\n`\n).join('\\n') +\n\"\\n9. Volver al men칰 principal\"\n}}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -2448,
        6848
      ],
      "id": "614d1845-f553-45a5-9d20-6ba2cadccac6",
      "name": "Send a text message55",
      "webhookId": "4ca2abc2-deb3-44dd-877c-a7f67e23f68e",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "tareas",
            "paso_actual": "tareas",
            "datos_parciales": "eliminar_dato2",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "id_temporal": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1728,
        6592
      ],
      "id": "612cddb1-c472-4be8-acba-68fafc74aa7c",
      "name": "Append or update row in sheet50",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "telegram_user",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2736,
        6544
      ],
      "id": "022b5dc0-0665-44e2-bbf9-d46ab4e532f0",
      "name": "Get row(s) in sheet14",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Estas seguro que quieres eliminar?\n\nTarea: {{$json.titulo}} ({{$json.estado}})\n\nsi \nno\n\nSugerencia: debes decir si o no quieres eliminar la tarea",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -2544,
        6560
      ],
      "id": "b72e5a2f-3ef6-443b-81e0-42a82e7f1bdc",
      "name": "Send a text message57",
      "webhookId": "f83fb106-7daa-4d49-b66c-0cf55994f838",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 911306939,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=911306939"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "estado": "eliminado",
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1968,
        6576
      ],
      "id": "ecac83d3-2f18-4aba-af98-bca0b442bb9e",
      "name": "Append or update row in sheet51",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 4612421,
          "mode": "list",
          "cachedResultName": "SESSION",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=4612421"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_user": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "datos_parciales": "eliminar_dato1",
            "paso_actual": "tareas",
            "pantalla_actual": "tareas",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_user"
          ],
          "schema": [
            {
              "id": "telegram_user",
              "displayName": "telegram_user",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -2368,
        6560
      ],
      "id": "1b691d17-a02e-4bfa-b7e4-9613303bbfc5",
      "name": "Append or update row in sheet52",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ String($('Edit Fields').item.json.Respuesta || '').trim().toLowerCase() === 'si' }}",
                    "rightValue": "si",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    },
                    "id": "1e302102-b9d2-4057-b79d-bf22fb3d108f"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "72e13657-5949-49e6-808c-4f3c4c6e1cc5",
                    "leftValue": "={{ String($('Edit Fields').item.json.Respuesta || '').trim().toLowerCase() === 'no' }}",
                    "rightValue": "no",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -2176,
        6560
      ],
      "id": "135b001b-bd1e-41cf-9fa1-42e22dde887b",
      "name": "Switch8"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "tu tarea fue eliminada exitosamente",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1520,
        6592
      ],
      "id": "90f4562f-373e-4c78-9062-a9d3f88c8b99",
      "name": "Send a text message58",
      "webhookId": "464e8e29-0443-44b8-9c35-ad7f78885958",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "content": "## TAREAS",
        "height": 1760,
        "width": 8256,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -3248,
        5808
      ],
      "typeVersion": 1,
      "id": "4b8a5da2-c0a3-4649-a8e6-4243048dece6",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=El dia {{ $json.Fecha }} a la(s) {{ $json.Hora }}, es una cita de {{ $json.Motivo }} agendada por {{ $json.Nombre }} de manera {{ $json.Canal }}.",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        400,
        1552
      ],
      "id": "f65a2c50-37aa-4a15-ad1b-c842f585d45d",
      "name": "Send a text message42",
      "webhookId": "099f922c-67a3-4dc9-9a50-3e5bb16f01b6",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "content": "### URGENTEE \n",
        "height": 1040,
        "width": 1616,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -256,
        4496
      ],
      "typeVersion": 1,
      "id": "81cd1117-afce-4064-a8bd-edb986c27da0",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "27c87cdb-480a-41f7-b162-b5bceb022592",
              "leftValue": "={{ $('Edit Fields').item.json.Respuesta.trim() === '9' }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -64,
        3584
      ],
      "id": "c4b9688a-a0b4-4368-bbc1-2710d93682e5",
      "name": "If28"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "5ade5b74-c2bc-43bb-82dc-7225b86f2b83"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "1c958171-e15d-4efe-bbfb-0558391edc02",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "ff1cfc93-98f5-45cd-ad34-af3b7808e4ae",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "079de157-fdf7-4d23-bbf7-36345e6e0a54",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "b58b3e2d-ab96-4522-b168-4cfb7fa1d0c4",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "5",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "24b7f229-8b07-418f-a6dd-1b0a09813ccd",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "6",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "f188679c-3ce9-4ac5-b978-cd174daf0889",
                    "leftValue": "={{ $('Edit Fields').item.json.Respuesta }}",
                    "rightValue": "9",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -6176,
        7968
      ],
      "id": "33530e8a-1bd3-44a0-8c03-7c5f5570a84c",
      "name": "Opciones Menu Agendacion de citas2"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Frecuencia agendada",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5600,
        9200
      ],
      "id": "a0f11b03-66c5-4746-b1fd-4560990ed4f3",
      "name": "Send a text message59",
      "webhookId": "91b417d1-30cb-4cd3-a44b-5c8a6deb2331",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Paso 3 de 6\n쮸 que hora desea este recordatorio?\nPor favor incluyalo en formato:\nHH:MM (24 horas)\nPo ejemplo 14:30\n\n9. Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5280,
        9200
      ],
      "id": "fbbc3d80-0b49-4109-b97c-9e05840ec42b",
      "name": "Send a text message70",
      "webhookId": "e00d157a-ce29-4a37-8822-00f6f883a300",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Operacion cancelada",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5568,
        9040
      ],
      "id": "f6d12beb-78b9-43c4-9f6d-4684c3d87d02",
      "name": "Send a text message84",
      "webhookId": "691b40c5-0eee-414a-b0c5-85dc25216486",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Entendido, vamos con tus tareas.\n\n쯈u칠 deseas hacer?\n\n1. Crear nueva tarea\n2. Consultar tus tareas\n3. Cambiar fecha objetivo de una tarea\n4. Eliminar una tarea\n5. Marcar una tarea como completada\n9. Volver al men칰 principal",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5392,
        9040
      ],
      "id": "7badc54a-8bf1-4e04-ba6f-48b4c09cb329",
      "name": "Send a text message85",
      "webhookId": "a00f2a36-243b-4dc7-9bc6-d677fa831a17",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Operacion cancelada",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5552,
        9360
      ],
      "id": "65285616-f598-47c7-a581-5b328c45c18a",
      "name": "Send a text message86",
      "webhookId": "691b40c5-0eee-414a-b0c5-85dc25216486",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Entendido, vamos con tus tareas.\n\n쯈u칠 deseas hacer?\n\n1. Crear nueva tarea\n2. Consultar tus tareas\n3. Cambiar fecha objetivo de una tarea\n4. Eliminar una tarea\n5. Marcar una tarea como completada\n9. Volver al men칰 principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5376,
        9360
      ],
      "id": "0eb49fde-5cc5-4705-9d05-d0f7cd835618",
      "name": "Send a text message87",
      "webhookId": "a00f2a36-243b-4dc7-9bc6-d677fa831a17",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "4aa36dbc-ac71-45c8-970b-551eef5c1aa3",
              "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
              "rightValue": "9",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -5792,
        9024
      ],
      "id": "72ee32dc-8ba0-4a27-9d9d-ee1690fec7f6",
      "name": "Aprobar o cancelar cita en paso 6"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "4aa36dbc-ac71-45c8-970b-551eef5c1aa3",
              "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
              "rightValue": "9",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -5792,
        9344
      ],
      "id": "8c266f9c-9afd-4497-9dac-aa7d7fe8e8b8",
      "name": "Aprobar o cancelar cita en paso 7"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Vamos a revisar que tareas tienes\n",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5936,
        7808
      ],
      "id": "c85392ab-d295-44e3-8396-f47544fcff69",
      "name": "Send a text message90",
      "webhookId": "600b69c3-c5fe-4407-9a21-de1f732e4f09",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "El habito ha sido creado con exito, sera enviado al menu principal en este momento",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5632,
        9968
      ],
      "id": "ec2838b2-41e2-4cbe-bb88-bb3c0e223ead",
      "name": "Send a text message91",
      "webhookId": "ce0508b9-94ab-4ace-9597-943db11ed57c",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "paso_actual": "menu_principal",
            "pantalla_actual": "menu_principal",
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5472,
        9968
      ],
      "id": "87f0a801-60ed-4d33-a514-0cc5b5a82915",
      "name": "Append or update row in sheet53",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Hola, soy AgendaBot 游녦\n\nEstoy aqu칤 para ayudarte a organizar tus citas, tareas y recordatorios\nde forma sencilla y sin complicaciones.\n\nPuedes escribirme en cualquier momento.\nPara avanzar, solo tienes que escribir el n칰mero de la opci칩n que quieras usar.\n\nMen칰 principal:\n0. Ayuda\n1. Agenda (citas)\n2. Tareas\n3. Recordatorios\n4. H치bitos\n5. Listas\n6. Reportes\n7. Configuraci칩n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5328,
        9968
      ],
      "id": "3479c62f-4a0f-400e-88bd-f0f4045cb3ff",
      "name": "Main menu4",
      "webhookId": "918dde3f-7823-451a-88b2-9f4f423e208f",
      "notesInFlow": false,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_telegram",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.from.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5536,
        7808
      ],
      "id": "3730f8ac-699d-449f-be49-d3d9bcee96e3",
      "name": "Extraer datos de cita9",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=El dia {{ $json.Fecha }} a la(s) {{ $json.Hora }}, es una cita de {{ $json.Motivo }} agendada por {{ $json.Nombre }} de manera {{ $json.Canal }}.",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5360,
        7808
      ],
      "id": "b61f6471-9394-4242-ba38-33ecd4f39d33",
      "name": "Send a text message92",
      "webhookId": "099f922c-67a3-4dc9-9a50-3e5bb16f01b6",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Perfecto, vamos con tu agenda.\n\n쯈u칠 deseas hacer?\n\n1. Agendar una nueva cita\n2. Consultar tu agenda\n3. Reprogramar una cita\n4. Cancelar una cita\n5. Marcar una cita como completada\n9. Volver al men칰 principal",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5168,
        7808
      ],
      "id": "9c1b26e8-3912-4ffb-a404-2d169463065a",
      "name": "Send a text message93",
      "webhookId": "9e26e10a-8854-4ef9-a688-8148a043a915",
      "executeOnce": true,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "Ver tareas",
            "paso_actual": "crear_tarea",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5728,
        7808
      ],
      "id": "c1c9129f-2147-45a2-a96c-d66f73dadff2",
      "name": "Append or update row in sheet54",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1221964376,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1221964376"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_habito": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "frecuencia": "={{ $('Assist time trigger').item.json.message.text }}",
            "estado": "Activo"
          },
          "matchingColumns": [
            "id_habito"
          ],
          "schema": [
            {
              "id": "id_habito",
              "displayName": "id_habito",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_telegram",
              "displayName": "id_telegram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "frecuencia",
              "displayName": "frecuencia",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "hora_recordatorio",
              "displayName": "hora_recordatorio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5424,
        9200
      ],
      "id": "f706459e-0b1a-44fd-bff9-11926a49fb48",
      "name": "Append or update row in sheet58",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Que tarea deseas renombrar?",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5744,
        7968
      ],
      "id": "3b97b3ed-e65d-46de-bbd7-3d4ccb46df49",
      "name": "Send a text message94",
      "webhookId": "d8045618-1843-49a9-9951-df40424284c1",
      "executeOnce": false,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_telegram",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5568,
        7968
      ],
      "id": "58903586-e43a-44a0-a5ab-1c507729c680",
      "name": "Extraer datos de cita10",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "={{ $json.row_number-1 }}. Titulo: {{ $json.titulo }} \nDia objetivo: {{ $json.fecha_objetivo }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5360,
        7968
      ],
      "id": "0dad40b7-24f7-46a7-8324-ae3515c41dbb",
      "name": "Send a text message95",
      "webhookId": "44aa2898-395d-4e6f-a1bc-1c3d65a6c485",
      "executeOnce": false,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "paso_actual": "renombrar_tarea",
            "pantalla_actual": "Renombrabdo una tarea",
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5936,
        7968
      ],
      "id": "4bf6c760-db58-496e-bc2a-98656ac3c2d6",
      "name": "Append or update row in sheet59",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_telegram",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5968,
        10592
      ],
      "id": "f7f24c14-3d97-4ee6-ab5f-0adc5346e5b7",
      "name": "Adquisicion de datos de todas las listas2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 3
          },
          "conditions": [
            {
              "id": "869bc501-bb41-4f87-82cf-e6254b8d5eea",
              "leftValue": "={{ $itemIndex + 1 }}",
              "rightValue": "={{ $('Assist time trigger').item.json.message.text }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        -5808,
        10592
      ],
      "id": "ed08663d-2cab-4c66-a78d-520d91cdd0c5",
      "name": "Filtrado de seleccion3"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=쮺u치l sera el nuevo titulo de la tarea?\n\n9. Cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5632,
        10592
      ],
      "id": "ba2dfe3d-d89f-4163-a463-c33c8fc3cae1",
      "name": "Selector de fecha3",
      "webhookId": "81a7ca65-97a8-44fb-bf2c-3912d2a1e33d",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_temporal": "={{ $('Filtrado de seleccion3').item.json.id_tarea }}",
            "paso_actual": "renombrando_tarea",
            "datos_parciales": "="
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5440,
        10592
      ],
      "id": "b8232940-4533-4b5e-9554-91f305210867",
      "name": "Seteo de nuevo valor de fecha3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "titulo": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_telegram",
              "displayName": "id_telegram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5952,
        10736
      ],
      "id": "59bb1526-7922-434c-ba38-4ac18989d100",
      "name": "Cambio de valor de fecha3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "La tarea ha sido renombrada",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5792,
        10736
      ],
      "id": "814afb5d-6358-4715-86a1-cd4274d37fa2",
      "name": "Confirmacion de fecha3",
      "webhookId": "77d470a3-d36e-4001-839a-a0167e11a40f",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "paso_actual": "menu_principal"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5488,
        10736
      ],
      "id": "16a18cf4-95c5-4032-8f83-0a42fa9570a0",
      "name": "Asignacion ruta de hora3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "Reagendar_tarea",
            "paso_actual": "reagendar_tarea",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5936,
        8144
      ],
      "id": "ebb0f62e-c313-42e3-9538-5b116a9c52d8",
      "name": "Append or update row in sheet60",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_telegram",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5600,
        8144
      ],
      "id": "7e4d93fd-0cde-4631-bfde-efa6e542134c",
      "name": "Extraer datos de cita11",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "={{ $json.row_number-1 }}. Titulo: {{ $json.titulo }} \nDia objetivo: {{ $json.fecha_objetivo }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5392,
        8144
      ],
      "id": "fe41ba5d-3ebb-4b4e-b2e2-20d733bbe2ac",
      "name": "Send a text message96",
      "webhookId": "44aa2898-395d-4e6f-a1bc-1c3d65a6c485",
      "executeOnce": false,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Que tarea desea reagendar??\n\n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5744,
        8144
      ],
      "id": "5bdab29f-c35c-4cf4-a95b-4ec915ff0e25",
      "name": "Send a text message97",
      "webhookId": "d8045618-1843-49a9-9951-df40424284c1",
      "executeOnce": false,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 3
          },
          "conditions": [
            {
              "id": "b4da2c70-aefd-49d7-9e04-d975cc4688c7",
              "leftValue": "={{ $('Creacionde habito').item.json.id_habito }}",
              "rightValue": "={{ $json.id_habito }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        -4976,
        8832
      ],
      "id": "e9640306-4760-4d54-b155-022df9cce1bb",
      "name": "Filter9"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "f3bb1e44-8d19-4f2a-b3e3-a3f7e923df97",
              "leftValue": "={{ $json.id_habito }}",
              "rightValue": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        -5408,
        10128
      ],
      "id": "219082bb-3238-4c48-93e3-bc5c37e78617",
      "name": "Filter10"
    },
    {
      "parameters": {
        "operation": "delete",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1221964376,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1221964376"
        },
        "startIndex": "={{ $json.row_number }}"
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5248,
        10128
      ],
      "id": "22ddbb2a-0aaa-433d-8438-c9914625b90c",
      "name": "Delete rows or columns from sheet4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "crear_habito",
            "paso_actual": "crear_habito",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5072,
        10128
      ],
      "id": "e9a35f31-cb16-4e78-a38c-4c931b0d6891",
      "name": "Update row in sheet3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Presione 1 para continuar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4912,
        10128
      ],
      "id": "0aa8d06e-a0d2-4513-a740-f1d2404aca73",
      "name": "Send a text message98",
      "webhookId": "efdf8acb-6ce2-4fe4-92bc-600c23307f46",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "completar_tarea",
            "paso_actual": "completar_tarea",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5936,
        8304
      ],
      "id": "738800f3-a91a-45a1-9ad4-ef74a465265a",
      "name": "Append or update row in sheet61",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Que tarea desea marcar como completada?",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5744,
        8304
      ],
      "id": "a81c303c-2aec-47da-93d6-3ed822e719f9",
      "name": "Send a text message99",
      "webhookId": "d9b9196f-82c4-4f0e-98a3-0e3651312024",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_telegram",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5568,
        8304
      ],
      "id": "a5391c75-7469-4fb5-b54a-6f3d4e7e5c42",
      "name": "Extraer datos de cita12",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "={{ $json.row_number-1 }}. Titulo: {{ $json.titulo }}\nDia objetivo: {{ $json.fecha_objetivo }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5376,
        8304
      ],
      "id": "12403de4-aa0f-44b9-823f-90ea9c052d94",
      "name": "Send a text message100",
      "webhookId": "44aa2898-395d-4e6f-a1bc-1c3d65a6c485",
      "executeOnce": false,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_telegram",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5952,
        11264
      ],
      "id": "ed7ad791-329d-4774-9c0a-f1cfbab28c77",
      "name": "Obtencion de datos para completar3",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 3
          },
          "conditions": [
            {
              "id": "a1bd4684-092f-43b5-b429-25091b345463",
              "leftValue": "={{ $itemIndex + 1 }}",
              "rightValue": "={{ $('Assist time trigger').item.json.message.text }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        -5792,
        11264
      ],
      "id": "438f650c-7301-442d-beb2-bd48216e4a66",
      "name": "Filter11"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "estado": "Completada"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_telegram",
              "displayName": "id_telegram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5616,
        11264
      ],
      "id": "d9778235-4f2b-48ae-ac86-e61760436947",
      "name": "Append or update row in sheet62",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=La tarea: {{ $('Obtencion de datos para completar3').item.json.titulo }} ha sido completada con exito",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5296,
        11264
      ],
      "id": "83b4bf06-d7b0-46b3-b9e7-9983d8e64d87",
      "name": "Send a text message101",
      "webhookId": "6107c6b6-8502-4572-bc8a-a74e3d2cf60a",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Hola, soy AgendaBot 游녦\n\nEstoy aqu칤 para ayudarte a organizar tus citas, tareas y recordatorios\nde forma sencilla y sin complicaciones.\n\nPuedes escribirme en cualquier momento.\nPara avanzar, solo tienes que escribir el n칰mero de la opci칩n que quieras usar.\n\nMen칰 principal:\n0. Ayuda\n1. Agenda (citas)\n2. Tareas\n3. Recordatorios\n4. H치bitos\n5. Listas\n6. Reportes\n7. Configuraci칩n",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5120,
        11264
      ],
      "id": "fa1b0fdb-e634-4a5d-95ea-45ff8181218d",
      "name": "Send a text message102",
      "webhookId": "9d112c78-e1a7-4986-8068-916557e91513",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "menu_principal",
            "paso_actual": "menu_principal",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5456,
        11264
      ],
      "id": "c73d2199-b8a4-4a65-a1e7-3744d74563d2",
      "name": "Append or update row in sheet63",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Ahora sera redireccionado al menu principal",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5632,
        10736
      ],
      "id": "3257ff23-0840-4c70-bdc1-ea8f53db2117",
      "name": "Send a text message103",
      "webhookId": "266399e1-91bb-450b-a709-932de5d6c7c9",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Hola, soy AgendaBot 游녦\n\nEstoy aqu칤 para ayudarte a organizar tus citas, tareas y recordatorios\nde forma sencilla y sin complicaciones.\n\nPuedes escribirme en cualquier momento.\nPara avanzar, solo tienes que escribir el n칰mero de la opci칩n que quieras usar.\n\nMen칰 principal:\n0. Ayuda\n1. Agenda (citas)\n2. Tareas\n3. Recordatorios\n4. H치bitos\n5. Listas\n6. Reportes\n7. Configuraci칩n",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5344,
        10736
      ],
      "id": "6a6a7c8c-935c-424a-94de-a6d2826d993a",
      "name": "Send a text message104",
      "webhookId": "c569eaa0-942b-422f-81e4-6f7dad582dd3",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 3
          },
          "conditions": [
            {
              "id": "869bc501-bb41-4f87-82cf-e6254b8d5eea",
              "leftValue": "={{ $itemIndex + 1 }}",
              "rightValue": "={{ $('Assist time trigger').item.json.message.text }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        -5792,
        10896
      ],
      "id": "bfb80fec-23cd-4058-8c88-d3db89426632",
      "name": "Filtrado de seleccion4"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=쮺u치l sera la nueva fecha objetivo de la tarea?\n\n9. Cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5616,
        10896
      ],
      "id": "ad163dc8-116b-44db-900f-9848dacb6580",
      "name": "Selector de fecha4",
      "webhookId": "81a7ca65-97a8-44fb-bf2c-3912d2a1e33d",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_temporal": "={{ $('Filtrado de seleccion4').item.json.id_tarea }}",
            "paso_actual": "reagendando_tarea"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5424,
        10896
      ],
      "id": "d332f2db-84d6-4cf7-9564-306798c30625",
      "name": "Seteo de nuevo valor de fecha4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_tarea": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "fecha_objetivo": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_tarea"
          ],
          "schema": [
            {
              "id": "id_tarea",
              "displayName": "id_tarea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_telegram",
              "displayName": "id_telegram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "titulo",
              "displayName": "titulo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prioridad",
              "displayName": "prioridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "fecha_objetivo",
              "displayName": "fecha_objetivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5936,
        11040
      ],
      "id": "d602c2ac-c9bf-4681-86b8-0a41a3b41d69",
      "name": "Cambio de valor de fecha4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "La tarea ha sido reagendada",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5776,
        11040
      ],
      "id": "1e42381b-4636-402a-9273-9b10b3736cc8",
      "name": "Confirmacion de fecha4",
      "webhookId": "77d470a3-d36e-4001-839a-a0167e11a40f",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "paso_actual": "menu_principal"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5472,
        11040
      ],
      "id": "88308b71-ba62-4057-a8e6-0b9393147658",
      "name": "Asignacion ruta de hora4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Ahora sera redireccionado al menu principal",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5616,
        11040
      ],
      "id": "7fffa006-bb71-45b6-9461-63f7c02bae26",
      "name": "Send a text message105",
      "webhookId": "266399e1-91bb-450b-a709-932de5d6c7c9",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Hola, soy AgendaBot 游녦\n\nEstoy aqu칤 para ayudarte a organizar tus citas, tareas y recordatorios\nde forma sencilla y sin complicaciones.\n\nPuedes escribirme en cualquier momento.\nPara avanzar, solo tienes que escribir el n칰mero de la opci칩n que quieras usar.\n\nMen칰 principal:\n0. Ayuda\n1. Agenda (citas)\n2. Tareas\n3. Recordatorios\n4. H치bitos\n5. Listas\n6. Reportes\n7. Configuraci칩n",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5328,
        11040
      ],
      "id": "e5a7484e-c832-4694-bd42-974ef6a4ac62",
      "name": "Send a text message106",
      "webhookId": "c569eaa0-942b-422f-81e4-6f7dad582dd3",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_telegram",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5952,
        10896
      ],
      "id": "fa440cc0-5eee-4ee2-96fa-385e7a69f8d5",
      "name": "Reagendando tarea1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "eliminar_tarea",
            "paso_actual": "eliminar_tarea",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5936,
        8480
      ],
      "id": "4f05a66a-9377-4482-a0a7-9f5f076006c3",
      "name": "Append or update row in sheet64",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Que tarea desea eliminar?",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5744,
        8480
      ],
      "id": "71493892-51bc-493c-b035-d3412021012a",
      "name": "Send a text message107",
      "webhookId": "d9b9196f-82c4-4f0e-98a3-0e3651312024",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_telegram",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5568,
        8480
      ],
      "id": "43848d3d-57a9-4ffc-ac75-6fc4baef2f4f",
      "name": "Extraer datos de cita13",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "={{ $json.row_number-1 }}. Titulo: {{ $json.titulo }}\nDia objetivo: {{ $json.fecha_objetivo }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5376,
        8480
      ],
      "id": "7a80f668-bfee-48a5-ab0d-d8853fabfb60",
      "name": "Send a text message108",
      "webhookId": "44aa2898-395d-4e6f-a1bc-1c3d65a6c485",
      "executeOnce": false,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Hola, soy AgendaBot 游녦\n\nEstoy aqu칤 para ayudarte a organizar tus citas, tareas y recordatorios\nde forma sencilla y sin complicaciones.\n\nPuedes escribirme en cualquier momento.\nPara avanzar, solo tienes que escribir el n칰mero de la opci칩n que quieras usar.\n\nMen칰 principal:\n0. Ayuda\n1. Agenda (citas)\n2. Tareas\n3. Recordatorios\n4. H치bitos\n5. Listas\n6. Reportes\n7. Configuraci칩n",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5936,
        8672
      ],
      "id": "85b58f46-32c4-4ab7-a1c1-0e4f57e6c2d9",
      "name": "Main menu5",
      "webhookId": "918dde3f-7823-451a-88b2-9f4f423e208f",
      "notesInFlow": false,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "Manue Pirncipal",
            "paso_actual": "menu_principal",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5792,
        8672
      ],
      "id": "956d93e0-8df9-485c-be1e-9b4f4517a492",
      "name": "Update row in sheet4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_telegram",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5952,
        11440
      ],
      "id": "8dd3dfad-11b0-4608-b38a-29b27c22c49e",
      "name": "Obtencion de datos para completar4",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 3
          },
          "conditions": [
            {
              "id": "a1bd4684-092f-43b5-b429-25091b345463",
              "leftValue": "={{ $itemIndex + 1 }}",
              "rightValue": "={{ $('Assist time trigger').item.json.message.text }}",
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.3,
      "position": [
        -5792,
        11440
      ],
      "id": "5e673097-10bb-4720-9f6e-aa23b26bb606",
      "name": "Filter12"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=La tarea: {{ $('Obtencion de datos para completar4').item.json.titulo }} ha sido completada con exito",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5296,
        11440
      ],
      "id": "965bf191-0975-4928-9cce-e67344cac675",
      "name": "Send a text message109",
      "webhookId": "6107c6b6-8502-4572-bc8a-a74e3d2cf60a",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Hola, soy AgendaBot 游녦\n\nEstoy aqu칤 para ayudarte a organizar tus citas, tareas y recordatorios\nde forma sencilla y sin complicaciones.\n\nPuedes escribirme en cualquier momento.\nPara avanzar, solo tienes que escribir el n칰mero de la opci칩n que quieras usar.\n\nMen칰 principal:\n0. Ayuda\n1. Agenda (citas)\n2. Tareas\n3. Recordatorios\n4. H치bitos\n5. Listas\n6. Reportes\n7. Configuraci칩n",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5120,
        11440
      ],
      "id": "fd82b17c-87d2-41ff-9a63-682ace1cc58e",
      "name": "Send a text message110",
      "webhookId": "9d112c78-e1a7-4986-8068-916557e91513",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 702184641,
          "mode": "list",
          "cachedResultName": "TAREAS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=702184641"
        },
        "startIndex": "={{ $json.row_number }}"
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5616,
        11440
      ],
      "id": "acf95501-9fe3-431a-8d9e-c8c60931a79b",
      "name": "Delete rows or columns from sheet6",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "{{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "menu_principal",
            "paso_actual": "menu_principal",
            "timestamp_ultima_interaccion": "={{ $now }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5456,
        11440
      ],
      "id": "2b20e06e-ebf7-4bcb-81ec-d06b4d8933fe",
      "name": "Append or update row in sheet65",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1221964376,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1221964376"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_telegram": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "id_habito": "={{ $now.toFormat('yyyyMMddHHmmss') }}",
            "nombre": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "Id_telegram"
          ],
          "schema": [
            {
              "id": "id_habito",
              "displayName": "id_habito",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_telegram",
              "displayName": "id_telegram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "frecuencia",
              "displayName": "frecuencia",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "hora_recordatorio",
              "displayName": "hora_recordatorio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5408,
        8832
      ],
      "id": "112df258-e734-42ef-b6e3-6c5b7a910a99",
      "name": "Creacionde habito",
      "alwaysOutputData": false,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Horario de recordatorio agendado",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5568,
        9616
      ],
      "id": "aaf76655-42fb-4125-8113-f1569b8e4677",
      "name": "Send a text message71",
      "webhookId": "91b417d1-30cb-4cd3-a44b-5c8a6deb2331",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Revisa la informaci칩n de tu Tarea:\n\nNombre:{{ $json.nombre }}\nHora de notificacion: {{ $json.hora_recordatorio }}\nPrioridad: {{ $json.frecuencia }}\nEstado: {{ $json.estado }}\n\n쯈u칠 deseas hacer?\n1. Confirmar y guardar\n2. Editar informaci칩n\n3. Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5088,
        9616
      ],
      "id": "9bdf5d00-6c13-45a5-9cec-6f5e3b861f26",
      "name": "Send a text message81",
      "webhookId": "e00d157a-ce29-4a37-8822-00f6f883a300",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Operacion cancelada",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5520,
        9776
      ],
      "id": "4ebb1502-22c8-4eb0-94a5-d8c0e665e883",
      "name": "Send a text message88",
      "webhookId": "691b40c5-0eee-414a-b0c5-85dc25216486",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Entendido, vamos con tus tareas.\n\n쯈u칠 deseas hacer?\n\n1. Crear nueva tarea\n2. Consultar tus tareas\n3. Cambiar fecha objetivo de una tarea\n4. Eliminar una tarea\n5. Marcar una tarea como completada\n9. Volver al men칰 principal",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5344,
        9776
      ],
      "id": "7710e19a-3261-400d-a338-a2d260b33c15",
      "name": "Send a text message89",
      "webhookId": "a00f2a36-243b-4dc7-9bc6-d677fa831a17",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "4aa36dbc-ac71-45c8-970b-551eef5c1aa3",
              "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
              "rightValue": "9",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -5760,
        9760
      ],
      "id": "126daad7-aded-48fd-94ac-d964ffe37ad3",
      "name": "Aprobar o cancelar cita en paso 8"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1221964376,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1221964376"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_habito": "={{ $('Ubicacion de pasos').item.json.id_temporal }}",
            "hora_recordatorio": "={{ $('Assist time trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id_habito"
          ],
          "schema": [
            {
              "id": "id_habito",
              "displayName": "id_habito",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_telegram",
              "displayName": "id_telegram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "frecuencia",
              "displayName": "frecuencia",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "hora_recordatorio",
              "displayName": "hora_recordatorio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5392,
        9616
      ],
      "id": "5ffcd5d6-91f7-4b4d-859b-aa889daf0fd6",
      "name": "Append or update row in sheet66",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Empecemos a crear tu Habito.\n\nPaso 1 de 4\nCual sera el nombrede tu habito?\n\n9. Cancelar",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5936,
        7664
      ],
      "id": "b540fd53-157d-40c6-ae86-3ba4a01577e7",
      "name": "Send a text message60",
      "webhookId": "600b69c3-c5fe-4407-9a21-de1f732e4f09",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs",
          "mode": "list",
          "cachedResultName": "AgendaBot_DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1574935147,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1RtfHG8iuioYtk1oLlA0ekPUGtzTP4CvmZwoLwZ6-Rhs/edit#gid=1574935147"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "id_cita",
              "displayName": "id_cita",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "cita_fecha_tmp",
              "displayName": "cita_fecha_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "hora_tmp",
              "displayName": "hora_tmp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "nombre",
              "displayName": "nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "motivo",
              "displayName": "motivo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "canal",
              "displayName": "canal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "estado",
              "displayName": "estado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "creado_por",
              "displayName": "creado_por",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_creacion",
              "displayName": "timestamp_creacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5744,
        7664
      ],
      "id": "fb5727b4-1808-4d97-83d5-402dad35ee4f",
      "name": "Append or update row in sheet55",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "78aa4032-376d-4426-ad97-b754edff5cde",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "creando_habito_paso1",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "7f9e2f48-0800-4429-a9a2-5c69ed5a026f",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "creando_habito_paso2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "61c2c7be-7d68-4ef1-bc70-414bb04b6710",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "creando_habito_paso3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "2114c448-addd-498d-bdcf-9fc4d6574f20",
                    "leftValue": "={{ $('Ubicacion de pasos').item.json.datos_parciales }}",
                    "rightValue": "creando_habito_paso4",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -6304,
        9168
      ],
      "id": "365d5464-12ac-4457-abe0-6a361e0baeeb",
      "name": "Switch9"
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "Titulo asignado con exito",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5600,
        8832
      ],
      "id": "54fff019-a294-4c1b-8a28-b609acf655ae",
      "name": "Send a text message61",
      "webhookId": "b921b4ce-8c73-4ebe-9076-026f4babb940",
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Assist time trigger').item.json.message.chat.id }}",
        "text": "=Paso 2 de 6\n쮺ual sera la frecuencia del habito?\nPor ejemplo:Diario o una vez por semana\n9. Cancelar",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4784,
        8832
      ],
      "id": "c6681e3e-d1c1-4e26-9377-1d1bda5fa70c",
      "name": "Send a text message62",
      "webhookId": "e00d157a-ce29-4a37-8822-00f6f883a300",
      "executeOnce": true,
      "credentials": {
        "telegramApi": {
          "id": "9mi0ljPp9nGhtSnA",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "creando_habito",
            "paso_actual": "creando_habito",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "datos_parciales": "creando_habito_paso2",
            "id_temporal": "={{ $('Filter9').item.json.id_habito }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4576,
        8832
      ],
      "id": "f4c0cd5e-ac3c-4508-bb3f-a472eb2d33d8",
      "name": "Append or update row in sheet56",
      "executeOnce": false,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "creando_habito",
            "paso_actual": "creando_habito",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "datos_parciales": "creando_habito_paso3"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5072,
        9200
      ],
      "id": "2917582d-e798-4526-afad-80b120f2a850",
      "name": "Append or update row in sheet57",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "paso_actual": "creando_habito",
            "pantalla_actual": "creando_habito",
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5184,
        9040
      ],
      "id": "f5be0fc4-8dd2-4f5d-a61d-b83c9b6a8595",
      "name": "Append or update row in sheet67",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "paso_actual": "creando_habito_paso3",
            "pantalla_actual": "creando_habito",
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5168,
        9360
      ],
      "id": "c03db49d-efbf-4c91-a4ab-8e27724dccd8",
      "name": "Append or update row in sheet68",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "7c0cbcc0-b687-40e8-85c3-58cd2ab40cfe"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "a76532b9-f5a9-4c25-92e7-4d505bd70a97",
                    "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
                    "rightValue": "2",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "012d2af1-566b-4c93-9615-c6cddad02fe2",
                    "leftValue": "={{ $('Assist time trigger').item.json.message.text }}",
                    "rightValue": "3",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        -5856,
        10112
      ],
      "id": "62da2af1-3c82-4937-9e78-18468da7f288",
      "name": "Switch10"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1221964376,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1221964376"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5184,
        8832
      ],
      "id": "db185807-b06c-489d-a912-b6e2a3aa3ab1",
      "name": "Get row(s) in sheet15",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1221964376,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1221964376"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_telegram",
              "lookupValue": "={{ $('Assist time trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5616,
        10128
      ],
      "id": "1d888051-7bd4-4923-86af-9a578956b57a",
      "name": "Get row(s) in sheet16",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}",
            "pantalla_actual": "creando_habito",
            "paso_actual": "creando_habito",
            "timestamp_ultima_interaccion": "={{ $now }}",
            "datos_parciales": "creando_habito_paso4"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_temporal",
              "displayName": "id_temporal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4880,
        9616
      ],
      "id": "a809f886-63b7-49aa-82e5-77821c3d0730",
      "name": "Append or update row in sheet69",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1000866960,
          "mode": "list",
          "cachedResultName": "SESSIONS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1000866960"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "paso_actual": "creando_habito_paso3",
            "pantalla_actual": "creando_habito",
            "telegram_User": "={{ $('Assist time trigger').item.json.message.chat.id }}"
          },
          "matchingColumns": [
            "telegram_User"
          ],
          "schema": [
            {
              "id": "telegram_User",
              "displayName": "telegram_User",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "pantalla_actual",
              "displayName": "pantalla_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "paso_actual",
              "displayName": "paso_actual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "datos_parciales",
              "displayName": "datos_parciales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "timestamp_ultima_interaccion",
              "displayName": "timestamp_ultima_interaccion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5136,
        9776
      ],
      "id": "6bbe558b-e633-4261-8532-55d86c264886",
      "name": "Append or update row in sheet70",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww",
          "mode": "list",
          "cachedResultName": "Caso de estudio",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1221964376,
          "mode": "list",
          "cachedResultName": "HABITOS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1udq3sjoPGwg5G7ca_tu_BepgKP0vvsZm_5nZjvQx5ww/edit#gid=1221964376"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id_habito",
              "lookupValue": "={{ $json.id_habito }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -5232,
        9616
      ],
      "id": "da015c8d-642f-4ccd-b24b-1a8eecd451c9",
      "name": "Get row(s) in sheet17",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ztePIQLyS586Mv6I",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -5232,
        9632
      ],
      "typeVersion": 1,
      "id": "21c6ab6e-d51e-4f00-a0ec-9656d6fb345b",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "content": "## habitos\n",
        "height": 4160,
        "width": 2064
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -6352,
        7632
      ],
      "typeVersion": 1,
      "id": "7276d8be-de54-4955-9a04-f154be9c0e44",
      "name": "Sticky Note6"
    }
  ],
  "pinData": {},
  "connections": {
    "Assist time trigger": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet1": {
      "main": [
        [
          {
            "node": "Comprobacion de existencia",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Main menu Admin",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Main menu",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Comprobacion de existencia": {
      "main": [
        [
          {
            "node": "Creacion de usuario",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Ubicacion de pasos",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Main menu Admin": {
      "main": [
        [
          {
            "node": "Append or update row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Main menu": {
      "main": [
        [
          {
            "node": "Append or update row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ubicacion de pasos": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Identificador de pasos",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Identificador de pasos": {
      "main": [
        [
          {
            "node": "Opciones Menu Principal",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opciones Menu Agendacion de citas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Adquisicion de datos de todas las listas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Cambio de valor de fecha",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Reseteo de valor de hora",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Obtencion de datos para eliminar",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Obtencion de datos para completar",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If19",
            "type": "main",
            "index": 0
          }
        ],
        [],
        [
          {
            "node": "Opcion 3: Menu de Recordatorios",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opciones Menu Agendacion de citas2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch9",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Adquisicion de datos de todas las listas2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Cambio de valor de fecha3",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Reagendando tarea1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Cambio de valor de fecha4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Obtencion de datos para completar3",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Obtencion de datos para completar4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opciones Menu Principal": {
      "main": [
        [
          {
            "node": "Opcion 0:Ayuda",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If3",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opcion 3: Menu de Recordatorios",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opcion 4: Menu de Habitos",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opcion 5: Menu de Listas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opcion 6: Menu de reportes",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opcion 7: Menu de configuraciones",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Menu de configuracion",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opcion 8: Menu de administrador",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Respuesta incorrecta",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Creacion de usuario": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "If4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If5",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If7",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If8",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If9",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If28",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message": {
      "main": [
        [
          {
            "node": "Append or update row in sheet4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet4": {
      "main": [
        [
          {
            "node": "Send a text message5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message5": {
      "main": [
        [
          {
            "node": "Append or update row in sheet5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message6": {
      "main": [
        [
          {
            "node": "Append or update row in sheet6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message7": {
      "main": [
        [
          {
            "node": "Append or update row in sheet7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet6": {
      "main": [
        [
          {
            "node": "Send a text message7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message8": {
      "main": [
        [
          {
            "node": "Append or update row in sheet41",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message9": {
      "main": [
        [
          {
            "node": "Append or update row in sheet9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message10": {
      "main": [
        [
          {
            "node": "Append or update row in sheet10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet10": {
      "main": [
        [
          {
            "node": "Send a text message11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message11": {
      "main": [
        [
          {
            "node": "Append or update row in sheet11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message12": {
      "main": [
        [
          {
            "node": "Append or update row in sheet12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet12": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message13": {
      "main": [
        [
          {
            "node": "Append or update row in sheet13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch1": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Send a text message12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields4": {
      "main": [
        [
          {
            "node": "Send a text message14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "Send a text message15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message14": {
      "main": [
        [
          {
            "node": "Append or update row in sheet14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message15": {
      "main": [
        [
          {
            "node": "Append or update row in sheet15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet14": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet15": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "Send a text message13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opcion 0:Ayuda": {
      "main": [
        [
          {
            "node": "Cambio de paso a helpper",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Respuesta incorrecta": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opcion 1: Menu Agendamiento de cita": {
      "main": [
        [
          {
            "node": "Cambio de paso a agendar_cita",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opcion 2: Menu de Tareas": {
      "main": [
        [
          {
            "node": "Cambio para menu de tareas",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opcion 3: Menu de Recordatorios": {
      "main": [
        [
          {
            "node": "Cambio para menu de Recordatorios",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opcion 4: Menu de Habitos": {
      "main": [
        [
          {
            "node": "Cambio para menu de  Habitos",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opcion 5: Menu de Listas": {
      "main": [
        [
          {
            "node": "Cambio para menu de Listas",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opcion 6: Menu de reportes": {
      "main": [
        [
          {
            "node": "Cambio de paso a helpper3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Menu de configuracion": {
      "main": [
        [
          {
            "node": "Cambio de paso a helpper4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opcion 7: Menu de configuraciones": {
      "main": [
        [
          {
            "node": "Cambio de paso a agendar_cita3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opcion 8: Menu de administrador": {
      "main": [
        [
          {
            "node": "Cambio de paso a agendar_cita4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet3": {
      "main": [
        []
      ]
    },
    "If3": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opcion 1: Menu Agendamiento de cita",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Send a text message",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If2": {
      "main": [
        [
          {
            "node": "Send a text message6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet2": {
      "main": [
        [
          {
            "node": "Edit Fields3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields3": {
      "main": [
        [
          {
            "node": "Append or update row in sheet3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If4": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If5": {
      "main": [
        [
          {
            "node": "Opcion 1: Menu Agendamiento de cita",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If6": {
      "main": [
        [
          {
            "node": "Opcion 1: Menu Agendamiento de cita",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If7": {
      "main": [
        [
          {
            "node": "Opcion 1: Menu Agendamiento de cita",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If8": {
      "main": [
        [
          {
            "node": "Opcion 1: Menu Agendamiento de cita",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If9": {
      "main": [
        [
          {
            "node": "Opcion 1: Menu Agendamiento de cita",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch2": {
      "main": [
        [
          {
            "node": "Switch3",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If18",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet13",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet14",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch3": {
      "main": [
        [
          {
            "node": "If10",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If11",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If15",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If13",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If10": {
      "main": [
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message32",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If11": {
      "main": [
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message16": {
      "main": [
        [
          {
            "node": "Append or update row in sheet1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet1": {
      "main": [
        [
          {
            "node": "Send a text message23",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If12": {
      "main": [
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If22",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If13": {
      "main": [
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If21",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If14": {
      "main": [
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If15": {
      "main": [
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If16": {
      "main": [
        [
          {
            "node": "Send a text message28",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message25": {
      "main": [
        []
      ]
    },
    "Send a text message4": {
      "main": [
        [
          {
            "node": "Append row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message28": {
      "main": [
        [
          {
            "node": "Append or update row in sheet22",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet22": {
      "main": [
        [
          {
            "node": "Send a text message26",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message23": {
      "main": [
        [
          {
            "node": "Append or update row in sheet8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message26": {
      "main": [
        [
          {
            "node": "Append or update row in sheet24",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message22": {
      "main": [
        [
          {
            "node": "Append or update row in sheet20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet20": {
      "main": [
        [
          {
            "node": "Send a text message27",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message27": {
      "main": [
        [
          {
            "node": "Append or update row in sheet28",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet5": {
      "main": [
        [
          {
            "node": "If25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message29": {
      "main": [
        [
          {
            "node": "Append or update row in sheet27",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send message and wait for response": {
      "main": [
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If18": {
      "main": [
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If19": {
      "main": [
        [
          {
            "node": "If20",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet3": {
      "main": [
        [
          {
            "node": "Send a text message19",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message19": {
      "main": [
        [
          {
            "node": "Append or update row in sheet17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet29": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet17": {
      "main": [
        [
          {
            "node": "If14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If20": {
      "main": [
        [
          {
            "node": "If23",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message31": {
      "main": [
        [
          {
            "node": "Append or update row in sheet18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet18": {
      "main": [
        [
          {
            "node": "Append or update row in sheet29",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If21": {
      "main": [
        [
          {
            "node": "Send a text message22",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If22": {
      "main": [
        [
          {
            "node": "Send a text message31",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet23": {
      "main": [
        [
          {
            "node": "Send a text message17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message32": {
      "main": [
        [
          {
            "node": "Append or update row in sheet2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message24": {
      "main": [
        [
          {
            "node": "Append or update row in sheet21",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet21": {
      "main": [
        [
          {
            "node": "Append or update row in sheet25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet6": {
      "main": [
        [
          {
            "node": "Send a text message21",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message21": {
      "main": [
        [
          {
            "node": "Append or update row in sheet26",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet26": {
      "main": [
        [
          {
            "node": "Switch4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch4": {
      "main": [
        [
          {
            "node": "Append or update row in sheet16",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch5": {
      "main": [
        [
          {
            "node": "Send a text message24",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message30",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If23": {
      "main": [
        [
          {
            "node": "Switch4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If24",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet16": {
      "main": [
        [
          {
            "node": "Append or update row in sheet23",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet25": {
      "main": [
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message17": {
      "main": [
        [
          {
            "node": "Opcion 2: Menu de Tareas",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message30": {
      "main": [
        [
          {
            "node": "Append or update row in sheet19",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet19": {
      "main": [
        [
          {
            "node": "Switch6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch6": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet9",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet10",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet30": {
      "main": [
        [
          {
            "node": "Send a text message39",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet4": {
      "main": [
        [
          {
            "node": "Send a text message34",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet31": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If24": {
      "main": [
        [
          {
            "node": "Switch6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet32": {
      "main": [
        [
          {
            "node": "Send a text message40",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet7": {
      "main": [
        [
          {
            "node": "Send a text message36",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet33": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet34": {
      "main": [
        [
          {
            "node": "Send a text message41",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet8": {
      "main": [
        [
          {
            "node": "Send a text message38",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet35": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message39": {
      "main": [
        [
          {
            "node": "Append or update row in sheet31",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message40": {
      "main": [
        [
          {
            "node": "Append or update row in sheet33",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message41": {
      "main": [
        [
          {
            "node": "Append or update row in sheet35",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send message and wait for response1": {
      "main": [
        [
          {
            "node": "Append or update row in sheet30",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send message and wait for response2": {
      "main": [
        [
          {
            "node": "Append or update row in sheet32",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send message and wait for response3": {
      "main": [
        [
          {
            "node": "Append or update row in sheet34",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet9": {
      "main": [
        [
          {
            "node": "Send message and wait for response1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet10": {
      "main": [
        [
          {
            "node": "Send message and wait for response2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet11": {
      "main": [
        [
          {
            "node": "Send message and wait for response3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opciones Menu Agendacion de citas": {
      "main": [
        [
          {
            "node": "Send a text message33",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message37",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Append or update row in sheet38",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Append or update row in sheet39",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Append or update row in sheet40",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extraer datos de cita": {
      "main": [
        [
          {
            "node": "Send a text message42",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extraer datos de cita1": {
      "main": [
        [
          {
            "node": "Send a text message45",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extraer datos de cita2": {
      "main": [
        [
          {
            "node": "Send a text message46",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message35": {
      "main": [
        [
          {
            "node": "Extraer datos de cita3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extraer datos de cita3": {
      "main": [
        [
          {
            "node": "Send a text message48",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message33": {
      "main": [
        [
          {
            "node": "Append or update row in sheet36",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message37": {
      "main": [
        [
          {
            "node": "Append or update row in sheet37",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet37": {
      "main": [
        [
          {
            "node": "Extraer datos de cita",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message44": {
      "main": [
        [
          {
            "node": "Extraer datos de cita1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet38": {
      "main": [
        [
          {
            "node": "Send a text message44",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet39": {
      "main": [
        [
          {
            "node": "Send a text message47",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message47": {
      "main": [
        [
          {
            "node": "Extraer datos de cita2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet40": {
      "main": [
        [
          {
            "node": "Send a text message35",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet41": {
      "main": [
        [
          {
            "node": "Send a text message9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter4": {
      "main": [
        [
          {
            "node": "Delete rows or columns from sheet2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete rows or columns from sheet2": {
      "main": [
        [
          {
            "node": "Update row in sheet1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet1": {
      "main": [
        [
          {
            "node": "Send a text message50",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch7": {
      "main": [
        [
          {
            "node": "Send a text message49",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message49": {
      "main": [
        [
          {
            "node": "Append or update row in sheet42",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet42": {
      "main": [
        [
          {
            "node": "Opcion 1: Menu Agendamiento de cita",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Adquisicion de datos de todas las listas": {
      "main": [
        [
          {
            "node": "Filtrado de seleccion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filtrado de seleccion": {
      "main": [
        [
          {
            "node": "Selector de fecha",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Selector de fecha": {
      "main": [
        [
          {
            "node": "Seteo de nuevo valor de fecha",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Cambio de valor de fecha": {
      "main": [
        [
          {
            "node": "Confirmacion de fecha",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Confirmacion de fecha": {
      "main": [
        [
          {
            "node": "Seteo de valor de hora",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Seteo de valor de hora": {
      "main": [
        [
          {
            "node": "Asignacion ruta de hora",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Reseteo de valor de hora": {
      "main": [
        [
          {
            "node": "Confirmacion de reagendamiento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Confirmacion de reagendamiento": {
      "main": [
        [
          {
            "node": "Redireccionado al menu principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redireccionado al menu principal": {
      "main": [
        [
          {
            "node": "Seteo de ruta a menu principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter": {
      "main": [
        [
          {
            "node": "Delete rows or columns from sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete rows or columns from sheet": {
      "main": [
        [
          {
            "node": "Append or update row in sheet43",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Obtencion de datos para eliminar": {
      "main": [
        [
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Obtencion de datos para completar": {
      "main": [
        [
          {
            "node": "Filter3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter3": {
      "main": [
        [
          {
            "node": "Append or update row in sheet44",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message51": {
      "main": [
        [
          {
            "node": "Send a text message52",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet43": {
      "main": [
        [
          {
            "node": "Send a text message51",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet44": {
      "main": [
        [
          {
            "node": "Append or update row in sheet45",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message53": {
      "main": [
        [
          {
            "node": "Send a text message54",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet45": {
      "main": [
        [
          {
            "node": "Send a text message53",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet12": {
      "main": [
        [
          {
            "node": "Filter4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If25": {
      "main": [
        [
          {
            "node": "Send a text message29",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send message and wait for response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet46": {
      "main": [
        [
          {
            "node": "Send message and wait for response4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message56": {
      "main": [
        [
          {
            "node": "Append or update row in sheet47",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet48": {
      "main": [
        [
          {
            "node": "Send a text message56",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send message and wait for response4": {
      "main": [
        [
          {
            "node": "Append or update row in sheet48",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet13": {
      "main": [
        [
          {
            "node": "Send a text message55",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message55": {
      "main": [
        [
          {
            "node": "Append or update row in sheet49",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet49": {
      "main": [
        [
          {
            "node": "Append or update row in sheet46",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet50": {
      "main": [
        [
          {
            "node": "Send a text message58",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet14": {
      "main": [
        [
          {
            "node": "Send a text message57",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message57": {
      "main": [
        [
          {
            "node": "Append or update row in sheet52",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet51": {
      "main": [
        [
          {
            "node": "Append or update row in sheet50",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet52": {
      "main": [
        [
          {
            "node": "Switch8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch8": {
      "main": [
        [
          {
            "node": "Append or update row in sheet51",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Opcion 3: Menu de Recordatorios",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message42": {
      "main": [
        [
          {
            "node": "Send a text message43",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If28": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Opciones Menu Agendacion de citas2": {
      "main": [
        [
          {
            "node": "Send a text message60",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message90",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Append or update row in sheet59",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Append or update row in sheet60",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Append or update row in sheet61",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Append or update row in sheet64",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Main menu5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message59": {
      "main": [
        [
          {
            "node": "Append or update row in sheet58",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message70": {
      "main": [
        [
          {
            "node": "Append or update row in sheet57",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message84": {
      "main": [
        [
          {
            "node": "Send a text message85",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message85": {
      "main": [
        [
          {
            "node": "Append or update row in sheet67",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message86": {
      "main": [
        [
          {
            "node": "Send a text message87",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message87": {
      "main": [
        [
          {
            "node": "Append or update row in sheet68",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aprobar o cancelar cita en paso 6": {
      "main": [
        [
          {
            "node": "Send a text message61",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message84",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aprobar o cancelar cita en paso 7": {
      "main": [
        [
          {
            "node": "Send a text message59",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message86",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message90": {
      "main": [
        [
          {
            "node": "Append or update row in sheet54",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message91": {
      "main": [
        [
          {
            "node": "Append or update row in sheet53",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet53": {
      "main": [
        [
          {
            "node": "Main menu4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extraer datos de cita9": {
      "main": [
        [
          {
            "node": "Send a text message92",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message92": {
      "main": [
        [
          {
            "node": "Send a text message93",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet54": {
      "main": [
        [
          {
            "node": "Extraer datos de cita9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet58": {
      "main": [
        [
          {
            "node": "Send a text message70",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message94": {
      "main": [
        [
          {
            "node": "Extraer datos de cita10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extraer datos de cita10": {
      "main": [
        [
          {
            "node": "Send a text message95",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet59": {
      "main": [
        [
          {
            "node": "Send a text message94",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Adquisicion de datos de todas las listas2": {
      "main": [
        [
          {
            "node": "Filtrado de seleccion3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filtrado de seleccion3": {
      "main": [
        [
          {
            "node": "Selector de fecha3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Selector de fecha3": {
      "main": [
        [
          {
            "node": "Seteo de nuevo valor de fecha3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Cambio de valor de fecha3": {
      "main": [
        [
          {
            "node": "Confirmacion de fecha3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Confirmacion de fecha3": {
      "main": [
        [
          {
            "node": "Send a text message103",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Asignacion ruta de hora3": {
      "main": [
        [
          {
            "node": "Send a text message104",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet60": {
      "main": [
        [
          {
            "node": "Send a text message97",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extraer datos de cita11": {
      "main": [
        [
          {
            "node": "Send a text message96",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message97": {
      "main": [
        [
          {
            "node": "Extraer datos de cita11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter9": {
      "main": [
        [
          {
            "node": "Send a text message62",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter10": {
      "main": [
        [
          {
            "node": "Delete rows or columns from sheet4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete rows or columns from sheet4": {
      "main": [
        [
          {
            "node": "Update row in sheet3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet3": {
      "main": [
        [
          {
            "node": "Send a text message98",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet61": {
      "main": [
        [
          {
            "node": "Send a text message99",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message99": {
      "main": [
        [
          {
            "node": "Extraer datos de cita12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extraer datos de cita12": {
      "main": [
        [
          {
            "node": "Send a text message100",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Obtencion de datos para completar3": {
      "main": [
        [
          {
            "node": "Filter11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter11": {
      "main": [
        [
          {
            "node": "Append or update row in sheet62",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet62": {
      "main": [
        [
          {
            "node": "Append or update row in sheet63",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message101": {
      "main": [
        [
          {
            "node": "Send a text message102",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet63": {
      "main": [
        [
          {
            "node": "Send a text message101",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message103": {
      "main": [
        [
          {
            "node": "Asignacion ruta de hora3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filtrado de seleccion4": {
      "main": [
        [
          {
            "node": "Selector de fecha4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Selector de fecha4": {
      "main": [
        [
          {
            "node": "Seteo de nuevo valor de fecha4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Cambio de valor de fecha4": {
      "main": [
        [
          {
            "node": "Confirmacion de fecha4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Confirmacion de fecha4": {
      "main": [
        [
          {
            "node": "Send a text message105",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Asignacion ruta de hora4": {
      "main": [
        [
          {
            "node": "Send a text message106",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message105": {
      "main": [
        [
          {
            "node": "Asignacion ruta de hora4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Reagendando tarea1": {
      "main": [
        [
          {
            "node": "Filtrado de seleccion4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet64": {
      "main": [
        [
          {
            "node": "Send a text message107",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message107": {
      "main": [
        [
          {
            "node": "Extraer datos de cita13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extraer datos de cita13": {
      "main": [
        [
          {
            "node": "Send a text message108",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Main menu5": {
      "main": [
        [
          {
            "node": "Update row in sheet4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Obtencion de datos para completar4": {
      "main": [
        [
          {
            "node": "Filter12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter12": {
      "main": [
        [
          {
            "node": "Delete rows or columns from sheet6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message109": {
      "main": [
        [
          {
            "node": "Send a text message110",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete rows or columns from sheet6": {
      "main": [
        [
          {
            "node": "Append or update row in sheet65",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet65": {
      "main": [
        [
          {
            "node": "Send a text message109",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Creacionde habito": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message71": {
      "main": [
        [
          {
            "node": "Append or update row in sheet66",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message81": {
      "main": [
        [
          {
            "node": "Append or update row in sheet69",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message88": {
      "main": [
        [
          {
            "node": "Send a text message89",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message89": {
      "main": [
        [
          {
            "node": "Append or update row in sheet70",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aprobar o cancelar cita en paso 8": {
      "main": [
        [
          {
            "node": "Send a text message71",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message88",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet66": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message60": {
      "main": [
        [
          {
            "node": "Append or update row in sheet55",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch9": {
      "main": [
        [
          {
            "node": "Aprobar o cancelar cita en paso 6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Aprobar o cancelar cita en paso 7",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Aprobar o cancelar cita en paso 8",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message61": {
      "main": [
        [
          {
            "node": "Creacionde habito",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message62": {
      "main": [
        [
          {
            "node": "Append or update row in sheet56",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch10": {
      "main": [
        [
          {
            "node": "Send a text message91",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet15": {
      "main": [
        [
          {
            "node": "Filter9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet16": {
      "main": [
        [
          {
            "node": "Filter10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet17": {
      "main": [
        [
          {
            "node": "Send a text message81",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "10c0a390-5190-4fbd-a4dc-ce18a9d788f6",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "c99f03879d17b018d12ae51b3aaad23c80cf36ffd7dea1f05dda78d5f665dcbb"
  },
  "id": "hyEesKaIMks6H2joA71Ht",
  "tags": []
}
